{"version":3,"file":"app.js","sources":["domReady.js","raven.js","modules/monitor.js","bonzo.js","qwery.js","modules/$.js","modules/ads.js"],"names":["name","definition","module","exports","define","amd","this","listener","fns","doc","document","hack","documentElement","doScroll","domContentLoaded","loaded","test","readyState","addEventListener","removeEventListener","shift","fn","setTimeout","push","window","undefined","triggerEvent","eventType","options","event","key","substr","toUpperCase","createEvent","initEvent","createEventObject","hasKey","dispatchEvent","fireEvent","toLowerCase","e","RavenConfigError","message","parseDSN","str","m","dsnPattern","exec","dsn","i","dsnKeys","pass","isUndefined","what","isFunction","isString","isObject","isEmptyObject","k","isError","objectPrototype","toString","call","Error","object","hasOwnProperty","each","obj","callback","j","length","setAuthQueryString","authQueryString","Raven","VERSION","globalKey","handleStackInfo","stackInfo","frames","stack","frame","normalizeFrame","processException","url","lineno","normalized","filename","line","colno","column","function","func","context","extractContextFromFrame","keys","in_app","globalOptions","includePaths","fetchContext","pivot","isMinified","slice","type","fileurl","stacktrace","label","ignoreErrors","reverse","truncate","maxMessageLength","ignoreUrls","whitelistUrls","send","objectMerge","exception","value","culprit","obj1","obj2","max","now","Date","getHttpData","http","location","href","headers","User-Agent","navigator","userAgent","referrer","Referer","data","isSetup","project","globalProject","logger","platform","request","tags","extra","session:duration","startTime","globalUser","user","release","dataCallback","shouldSendCallback","lastEventId","event_id","uuid4","makeRequest","img","Image","src","globalServer","encodeURIComponent","JSON","stringify","crossOrigin","onload","onerror","onabort","hasJSON","logDebug","joinRegExp","patterns","pattern","sources","len","replace","source","RegExp","join","c","r","Math","random","v","level","console","debug","afterLoad","RavenConfig","config","install","TraceKit","remoteFetching","collectWindowErrors","linesOfContext","_slice","UNKNOWN_FUNCTION","wrap","wrapped","apply","arguments","report","subscribe","handler","installGlobalHandler","handlers","unsubscribe","splice","unsubscribeAll","uninstallGlobalHandler","notifyHandlers","isWindowError","concat","inner","traceKitWindowOnError","lineNo","colNo","ex","lastExceptionStack","computeStackTrace","augmentStackTraceWithInitialElement","processLastException","guessFunctionName","gatherContext","_oldOnerrorHandler","_onErrorHandlerInstalled","_lastExceptionStack","_lastArgs","lastArgs","lastException","rethrow","args","incomplete","uninstall","loadSource","getXHR","XMLHttpRequest","ActiveXObject","open","responseText","getSource","sourceCache","indexOf","domain","split","reFunctionArgNames","reGuessFunction","maxLines","linesBefore","floor","linesAfter","start","end","min","escapeRegExp","text","escapeCodeAsRegExpForMatchingInsideHTML","body","findSourceInUrls","re","urls","substring","index","lastIndexOf","findSourceInLine","fragment","findSourceByFunctionBody","parts","result","scripts","getElementsByTagName","code","codeRE","eventRE","script","computeStackTraceFromStackProp","element","chrome","gecko","lines","reference","columnNumber","computeStackTraceFromStacktraceProp","testRE","exc","computeStackTraceFromOperaMultiLineMessage","lineRE1","lineRE2","lineRE3","inlineScriptBlocks","item","relativeLine","pos","innerText","midline","initial","unshift","partial","computeStackTraceByWalkingCallerChain","depth","functionName","funcs","recursion","curr","caller","description","sourceURL","fileName","lineNumber","lastCapturedException","_Raven","isRavenInstalled","Object","prototype","noConflict","uri","lastSlash","path","host","port","protocol","deep","captureException","__raven__","property","__inner__","captureMessage","ex1","msg","setUserContext","setExtraContext","setTagsContext","setReleaseContext","setUser","constructor","git_commit","GRUNT_SENTRY_DSN","GRUNT_LAST_GIT_COMMIT","modules","extractTags","bodyClass","getAttribute","itemTone","match","itemId","deviceKind","ads","ignoreArray","setContext","init","sampleRate","raven","getStyle","el","computed","defaultView","getComputedStyle","style","isNode","node","nodeName","nodeType","normalize","clone","l","ret","bonzo","create","cloneNode","classReg","ar","opt_scope","opt_rev","ind","deepEach","childNodes","camelize","s","m1","decamelize","setAttribute","uuids","uid","uidMap","clearData","dataValue","d","f","parseFloat","some","styleProperty","p","features","transform","insert","target","rev","self","nodes","query","charAt","t","xy","x","y","$el","css","offset","rel","isRel","delta","parseInt","isNaN","offsetLeft","offsetTop","left","px","top","setter","scroll","isBody","getWindowScroll","scrollLeft","scrollTop","win","scrollTo","Bonzo","elements","cloneElems","elElems","$","cloneEvents","find","tagName","pageXOffset","html","pageYOffset","createScriptFromHtml","scriptEl","createElement","matches","simpleScriptTagRe","els","hasClass","addClass","removeClass","parentNode","specialAttributes","specialTags","table","td","option","noscope","tagMap","thead","tbody","tfoot","colgroup","caption","tr","th","col","fieldset","legend","optgroup","link","param","base","stateAttributes","digit","dattr","props","classList","whitespaceRegex","String","unitless","lineHeight","zoom","zIndex","opacity","boxFlex","WebkitBoxFlex","MozBoxFlex","querySelectorAll","selector","contains","add","remove","className","trim","get","map","opt_reject","n","h","opt_text","method","that","append","appendChild","updateElement","empty","prepend","first","firstChild","insertBefore","appendTo","opt_host","prependTo","before","after","nextSibling","insertAfter","sibling","replaceWith","replaceChild","toggleClass","opt_condition","show","opt_type","display","hide","toggle","opt_callback","offsetWidth","offsetHeight","last","next","related","previous","parent","focus","blur","o","opt_v","iter","viewport","width","height","opt_x","opt_y","de","ownerDocument","bcr","getBoundingClientRect","clientTop","clientLeft","dim","orig","position","visibility","scrollWidth","clientWidth","scrollHeight","clientHeight","attr","removeAttr","removeAttribute","val","opt_k","attributes","a","detach","removeChild","setQueryEngine","q","aug","tag","dep","ns","pn","innerHTML","vp","innerWidth","innerHeight","isAncestor","container","compareDocumentPosition","toArray","arrayLike","isFinite","flatten","uniq","normalizeRoot","root","qwery","opt_root","getElementsByClassName","classOnly","tabletMpuId","mobileMpuId","bannerHtmlId","insertAdPlaceholders","counter","adsConfig","tabletMpuHtml","mobileMpuHtml","bannerHtml","nrParagraph","mpuAfterParagraphs","getBannerPos","formatter","getElementById","getMpuPos","getMpuPosJson","w","getMpuPosCommaSeparated","getMpuOffsetTop","getBannerPosCallback","GuardianJSInterface","bannerAdsPosition","poller","interval","yPos","firstRun","newYPos","isAndroid","updateAndroidPosition","bind","mpuAdsPosition","initMpuPoller","fireAdsReady","_window","ready","initialised","adsEnabled","applyNativeFunctionCall","gu","baseUrl","require","paths","bean","d3","domReady","mobileSlider","fastClick","fence","smoothScroll","shim","monitor","Ads","loadCss","basePath","contentType","Article","Liveblog","Audio","Gallery","Football","Cricket","Common","scriptTag","skipStyle"],"mappings":"CAGA,SAAAA,EAAAC,GAEA,mBAAAC,QAAAA,OAAAC,QAAAF,IACA,kBAAAG,SAAA,gBAAAA,QAAAC,IAAAD,OAAA,WAAAH,GACAK,KAAAN,GAAAC,KAEA,WAAA,WAEA,GAAAM,GAAAC,KACAC,EAAAC,SACAC,EAAAF,EAAAG,gBAAAC,SACAC,EAAA,mBACAC,GAAAJ,EAAA,aAAA,iBAAAK,KAAAP,EAAAQ,WAUA,OAPAF,IACAN,EAAAS,iBAAAJ,EAAAP,EAAA,WAGA,IAFAE,EAAAU,oBAAAL,EAAAP,GACAQ,EAAA,EACAR,EAAAC,EAAAY,SAAAb,MAGA,SAAAc,GACAN,EAAAO,WAAAD,EAAA,GAAAb,EAAAe,KAAAF,MCfA,SAAAG,EAAAC,GACA,YA63CA,SAAAC,GAAAC,EAAAC,GACA,GAAAC,GAAAC,CAEAF,GAAAA,MAEAD,EAAA,QAAAA,EAAAI,OAAA,EAAA,GAAAC,cAAAL,EAAAI,OAAA,GAEArB,SAAAuB,aACAJ,EAAAnB,SAAAuB,YAAA,cACAJ,EAAAK,UAAAP,GAAA,GAAA,KAEAE,EAAAnB,SAAAyB,oBACAN,EAAAF,UAAAA,EAGA,KAAAG,IAAAF,GAAAQ,EAAAR,EAAAE,KACAD,EAAAC,GAAAF,EAAAE,GAGA,IAAApB,SAAAuB,YAEAvB,SAAA2B,cAAAR,OAIA,KACAnB,SAAA4B,UAAA,KAAAT,EAAAF,UAAAY,cAAAV,GACA,MAAAW,KAOA,QAAAC,GAAAC,GACApC,KAAAN,KAAA,mBACAM,KAAAoC,QAAAA,EAMA,QAAAC,GAAAC,GACA,GAAAC,GAAAC,EAAAC,KAAAH,GACAI,KACAC,EAAA,CAEA,KACA,KAAAA,KAAAD,EAAAE,EAAAD,IAAAJ,EAAAI,IAAA,GACA,MAAAT,GACA,KAAA,IAAAC,GAAA,gBAAAG,GAGA,GAAAI,EAAAG,KACA,KAAA,IAAAV,GAAA,8CAEA,OAAAO,GAGA,QAAAI,GAAAC,GACA,MAAA,mBAAAA,GAGA,QAAAC,GAAAD,GACA,MAAA,kBAAAA,GAGA,QAAAE,GAAAF,GACA,MAAA,gBAAAA,GAGA,QAAAG,GAAAH,GACA,MAAA,gBAAAA,IAAA,OAAAA,EAGA,QAAAI,GAAAJ,GACA,IAAA,GAAAK,KAAAL,GAAA,OAAA,CACA,QAAA,EAKA,QAAAM,GAAAN,GACA,MAAAG,GAAAH,IACA,mBAAAO,EAAAC,SAAAC,KAAAT,IACAA,YAAAU,OAUA,QAAA3B,GAAA4B,EAAAlC,GACA,MAAA8B,GAAAK,eAAAH,KAAAE,EAAAlC,GAGA,QAAAoC,GAAAC,EAAAC,GACA,GAAAnB,GAAAoB,CAEA,IAAAjB,EAAAe,EAAAG,QACA,IAAArB,IAAAkB,GACA/B,EAAA+B,EAAAlB,IACAmB,EAAAN,KAAA,KAAAb,EAAAkB,EAAAlB,QAKA,IADAoB,EAAAF,EAAAG,OAEA,IAAArB,EAAA,EAAAoB,EAAApB,EAAAA,IACAmB,EAAAN,KAAA,KAAAb,EAAAkB,EAAAlB,IAOA,QAAAsB,KACAC,EACA,4CACAC,EAAAC,QACA,eAAAC,EAIA,QAAAC,GAAAC,EAAAjD,GACA,GAAAkD,KAEAD,GAAAE,OAAAF,EAAAE,MAAAT,QACAJ,EAAAW,EAAAE,MAAA,SAAA9B,EAAA8B,GACA,GAAAC,GAAAC,EAAAF,EACAC,IACAF,EAAAvD,KAAAyD,KAKAtD,EAAA,UACAmD,UAAAA,EACAjD,QAAAA,IAGAsD,EACAL,EAAA7E,KACA6E,EAAAnC,QACAmC,EAAAM,IACAN,EAAAO,OACAN,EACAlD,GAIA,QAAAqD,GAAAD,GACA,GAAAA,EAAAG,IAAA,CAGA,GAKAlC,GALAoC,GACAC,SAAAN,EAAAG,IACAC,OAAAJ,EAAAO,KACAC,MAAAR,EAAAS,OACAC,WAAAV,EAAAW,MAAA,KACAC,EAAAC,EAAAb,EAEA,IAAAY,EAAA,CACA,GAAAE,IAAA,cAAA,eAAA,eAEA,KADA7C,EAAA,EACAA,KAAAoC,EAAAS,EAAA7C,IAAA2C,EAAA3C,GAYA,MATAoC,GAAAU,UAEAC,EAAAC,aAAAjF,KAAAqE,EAAAC,WAEA,qBAAAtE,KAAAqE,EAAA,cAEA,qBAAArE,KAAAqE,EAAAC,WAGAD,GAGA,QAAAQ,GAAAb,GAEA,GAAAA,EAAAY,SAAAI,EAAAE,aAAA,CAMA,IAJA,GAAAN,GAAAZ,EAAAY,QACAO,KAAAP,EAAAtB,OAAA,GACArB,EAAA2C,EAAAtB,OAAA8B,GAAA,EAEAnD,KAKA,GAAA2C,EAAA3C,GAAAqB,OAAA,IAAA,CACA8B,GAAA,CACA,OAIA,GAAAA,EAAA,CAEA,GAAAhD,EAAA4B,EAAAS,QAAA,MAIA,WAEAG,EAAAO,GAAApE,OAAAiD,EAAAS,OAAA,QAKA,OACAG,EAAAS,MAAA,EAAAF,GACAP,EAAAO,GACAP,EAAAS,MAAAF,EAAA,KAIA,QAAAjB,GAAAoB,EAAA5D,EAAA6D,EAAAnB,EAAAN,EAAAlD,GACA,GAAA4E,GAAAC,CAIA/D,IAAA,IAOA,UAAA4D,GAAA5D,KAEAsD,EAAAU,aAAA1F,KAAA0B,KAEAoC,GAAAA,EAAAR,QACAiC,EAAAzB,EAAA,GAAAQ,UAAAiB,EAGAzB,EAAA6B,UACAH,GAAA1B,OAAAA,IACAyB,IACAC,GACA1B,SACAQ,SAAAiB,EACAnB,OAAAA,EACAW,QAAA,MAMArD,EAAAkE,EAAAlE,EAAAsD,EAAAa,kBAEAb,EAAAc,YAAAd,EAAAc,WAAA9F,KAAAuF,MACAP,EAAAe,eAAAf,EAAAe,cAAA/F,KAAAuF,MAEAE,EAAArB,EAAA1C,EAAA,OAAA0C,EAAA1C,EAGAsE,EACAC,GAEAC,WACAZ,KAAAA,EACAa,MAAAzE,GAGA8D,WAAAA,EACAY,QAAAb,EACA7D,QAAA+D,GACA7E,OAIA,QAAAqF,GAAAI,EAAAC,GACA,MAAAA,IAGApD,EAAAoD,EAAA,SAAAxF,EAAAqF,GACAE,EAAAvF,GAAAqF,IAEAE,GALAA,EAQA,QAAAT,GAAAhE,EAAA2E,GACA,MAAA3E,GAAA0B,QAAAiD,EAAA3E,EAAAA,EAAAb,OAAA,EAAAwF,GAAA,IAGA,QAAAC,KACA,OAAA,GAAAC,MAGA,QAAAC,KACA,GAAAC,IACAxC,IAAAzE,SAAAkH,SAAAC,KACAC,SACAC,aAAAC,UAAAC,WAQA,OAJAvH,UAAAwH,WACAP,EAAAG,QAAAK,QAAAzH,SAAAwH,UAGAP,EAGA,QAAAX,GAAAoB,GACAC,MAEAD,EAAAnB,GACAqB,QAAAC,EACAC,OAAAxC,EAAAwC,OACAC,SAAA,aAEAC,QAAAhB,KACAU,GAGAA,EAAAO,KAAA1B,EAAAA,KAAAjB,EAAA2C,MAAAP,EAAAO,MACAP,EAAAQ,MAAA3B,EAAAA,KAAAjB,EAAA4C,OAAAR,EAAAQ,OAGAR,EAAAQ,MAAA3B,GACA4B,mBAAArB,IAAAsB,GACAV,EAAAQ,OAGAnF,EAAA2E,EAAAO,aAAAP,GAAAO,KAEAI,IAEAX,EAAAY,KAAAD,GAIA/C,EAAAiD,UAAAb,EAAAa,QAAAjD,EAAAiD,SAEA3F,EAAA0C,EAAAkD,gBACAd,EAAApC,EAAAkD,aAAAd,MAIA9E,EAAA0C,EAAAmD,qBAAAnD,EAAAmD,mBAAAf,MAOAgB,EAAAhB,EAAAiB,WAAAjB,EAAAiB,SAAAC,KAEAC,EAAAnB,KAIA,QAAAmB,GAAAnB,GACA,GAAAoB,GAAA,GAAAC,OACAC,EAAAC,EAAAnF,EAAA,gBAAAoF,mBAAAC,KAAAC,UAAA1B,GAEAoB,GAAAO,YAAA,YACAP,EAAAQ,OAAA,WACAtI,EAAA,WACA0G,KAAAA,EACAsB,IAAAA,KAGAF,EAAAS,QAAAT,EAAAU,QAAA,WACAxI,EAAA,WACA0G,KAAAA,EACAsB,IAAAA,KAGAF,EAAAE,IAAAA,EAGA,QAAArB,KACA,MAAA8B,GACAR,GAIA,GAHAS,EAAA,QAAA,0CACA,IAHA,EAQA,QAAAC,GAAAC,GAOA,IAJA,GAEAC,GAFAC,KACAvH,EAAA,EAAAwH,EAAAH,EAAAhG,OAGAmG,EAAAxH,EAAAA,IACAsH,EAAAD,EAAArH,GACAM,EAAAgH,GAGAC,EAAAjJ,KAAAgJ,EAAAG,QAAA,8BAAA,SACAH,GAAAA,EAAAI,QAEAH,EAAAjJ,KAAAgJ,EAAAI,OAIA,OAAA,IAAAC,QAAAJ,EAAAK,KAAA,KAAA,KAIA,QAAAvB,KACA,MAAA,mCAAAoB,QAAA,QAAA,SAAAI,GACA,GAAAC,GAAA,GAAAC,KAAAC,SAAA,EACAC,EAAA,KAAAJ,EAAAC,EAAA,EAAAA,EAAA,CACA,OAAAG,GAAArH,SAAA,MAIA,QAAAuG,GAAAe,EAAAzI,GACAlB,EAAA4J,SAAAA,QAAAD,IAAA1G,EAAA4G,OACAD,QAAAD,GAAAzI,GAIA,QAAA4I,KAEA,GAAAC,GAAA/J,EAAA+J,WACAA,IACA9G,EAAA+G,OAAAD,EAAAvI,IAAAuI,EAAAC,QAAAC,UApyDA,GAAAC,IACAC,gBAAA,EACAC,qBAAA,EAEAC,eAAA,GAIAC,KAAAzF,MACA0F,EAAA,GAUAL,GAAAM,KAAA,SAAArG,GACA,QAAAsG,KACA,IACA,MAAAtG,GAAAuG,MAAA5L,KAAA6L,WACA,MAAA3J,GAEA,KADAkJ,GAAAU,OAAA5J,GACAA,GAGA,MAAAyJ,IA0CAP,EAAAU,OAAA,WAUA,QAAAC,GAAAC,GACAC,IACAC,EAAAjL,KAAA+K,GAOA,QAAAG,GAAAH,GACA,IAAA,GAAArJ,GAAAuJ,EAAAlI,OAAA,EAAArB,GAAA,IAAAA,EACAuJ,EAAAvJ,KAAAqJ,GACAE,EAAAE,OAAAzJ,EAAA,GAQA,QAAA0J,KACAC,IACAJ,KAOA,QAAAK,GAAA9H,EAAA+H,GACA,GAAA5F,GAAA,IACA,KAAA4F,GAAApB,EAAAE,oBAAA,CAGA,IAAA,GAAA3I,KAAAuJ,GACA,GAAApK,EAAAoK,EAAAvJ,GACA,IACAuJ,EAAAvJ,GAAAiJ,MAAA,MAAAnH,GAAAgI,OAAAjB,EAAAhI,KAAAqI,UAAA,KACA,MAAAa,GACA9F,EAAA8F,EAKA,GAAA9F,EACA,KAAAA,IAiBA,QAAA+F,GAAAvK,EAAAyC,EAAA+H,EAAAC,EAAAC,GACA,GAAArI,GAAA,IAEA,IAAAsI,EACA3B,EAAA4B,kBAAAC,oCAAAF,EAAAlI,EAAA+H,EAAAxK,GACA8K,QACA,IAAAJ,EAIArI,EAAA2G,EAAA4B,kBAAAF,GACAP,EAAA9H,GAAA,OACA,CACA,GAAA6C,IACAzC,IAAAA,EACAI,KAAA2H,EACAzH,OAAA0H,EAEAvF,GAAAjC,KAAA+F,EAAA4B,kBAAAG,kBAAA7F,EAAAzC,IAAAyC,EAAArC,MACAqC,EAAAhC,QAAA8F,EAAA4B,kBAAAI,cAAA9F,EAAAzC,IAAAyC,EAAArC,MACAR,GACArC,QAAAA,EACAyC,IAAAzE,SAAAkH,SAAAC,KACA9C,OAAA6C,IAEAiF,EAAA9H,GAAA,GAGA,MAAA4I,GACAA,EAAAzB,MAAA5L,KAAA6L,YAGA,EAGA,QAAAI,KAEAqB,IAGAD,EAAAnM,EAAAyI,QACAzI,EAAAyI,QAAAgD,EACAW,GAAA,GAGA,QAAAhB,KAEAgB,IAGApM,EAAAyI,QAAA0D,EACAC,GAAA,EACAD,EAAAlM,GAGA,QAAA+L,KACA,GAAAK,GAAAR,EACAS,EAAAC,CACAA,GAAA,KACAV,EAAA,KACAW,EAAA,KACAnB,EAAAX,MAAA,MAAA2B,GAAA,GAAAd,OAAAe,IAUA,QAAA1B,GAAAgB,EAAAa,GACA,GAAAC,GAAApC,EAAAhI,KAAAqI,UAAA,EACA,IAAAkB,EAAA,CACA,GAAAW,IAAAZ,EACA,MAEAI,KAIA,GAAAzI,GAAA2G,EAAA4B,kBAAAF,EAeA,IAdAC,EAAAtI,EACAiJ,EAAAZ,EACAW,EAAAG,EAMA1M,EAAAF,WAAA,WACA0M,IAAAZ,GACAI,KAEAzI,EAAAoJ,WAAA,IAAA,GAEAF,KAAA,EACA,KAAAb,GAxKA,GA0DAO,GAAAC,EA1DApB,KACAuB,EAAA,KACAC,EAAA,KACAX,EAAA,IA4KA,OAHAjB,GAAAC,UAAAA,EACAD,EAAAK,YAAAA,EACAL,EAAAgC,UAAAzB,EACAP,KAuDAV,EAAA4B,kBAAA,WAUA,QAAAe,GAAAlJ,GACA,IAAAuG,EAAAC,eACA,MAAA,EAEA,KACA,GAAA2C,GAAA,WACA,IACA,MAAA,IAAA9M,GAAA+M,eACA,MAAA/L,GAEA,MAAA,IAAAhB,GAAAgN,cAAA,uBAIA9F,EAAA4F,GAGA,OAFA5F,GAAA+F,KAAA,MAAAtJ,GAAA,GACAuD,EAAA1B,KAAA,IACA0B,EAAAgG,aACA,MAAAlM,GACA,MAAA,IASA,QAAAmM,GAAAxJ,GACA,IAAA5B,EAAA4B,GAAA,QACA,KAAA/C,EAAAwM,EAAAzJ,GAAA,CAGA,GAAAwF,GAAA,EACA,MAAAxF,EAAA0J,QAAAnO,SAAAoO,UACAnE,EAAA0D,EAAAlJ,IAEAyJ,EAAAzJ,GAAAwF,EAAAA,EAAAoE,MAAA,SAGA,MAAAH,GAAAzJ,GAWA,QAAAsI,GAAAtI,EAAA+H,GACA,GAKArK,GALAmM,EAAA,8BACAC,EAAA,mEACA1J,EAAA,GACA2J,EAAA,GACAvE,EAAAgE,EAAAxJ,EAGA,KAAAwF,EAAArG,OACA,MAAAyH,EAKA,KAAA,GAAA9I,GAAA,EAAAiM,EAAAjM,IAAAA,EAGA,GAFAsC,EAAAoF,EAAAuC,EAAAjK,GAAAsC,GAEAnC,EAAAmC,GAAA,CACA,GAAA1C,EAAAoM,EAAAlM,KAAAwC,GACA,MAAA1C,GAAA,EACA,IAAAA,EAAAmM,EAAAjM,KAAAwC,GACA,MAAA1C,GAAA,GAKA,MAAAkJ,GAUA,QAAA2B,GAAAvI,EAAAI,GACA,GAAAoF,GAAAgE,EAAAxJ,EAEA,KAAAwF,EAAArG,OACA,MAAA,KAGA,IAAAsB,MAIAuJ,EAAAnE,KAAAoE,MAAA1D,EAAAG,eAAA,GAEAwD,EAAAF,EAAAzD,EAAAG,eAAA,EACAyD,EAAAtE,KAAAzD,IAAA,EAAAhC,EAAA4J,EAAA,GACAI,EAAAvE,KAAAwE,IAAA7E,EAAArG,OAAAiB,EAAA8J,EAAA,EAEA9J,IAAA,CAEA,KAAA,GAAAtC,GAAAqM,EAAAC,EAAAtM,IAAAA,EACAG,EAAAuH,EAAA1H,KACA2C,EAAArE,KAAAoJ,EAAA1H,GAIA,OAAA2C,GAAAtB,OAAA,EAAAsB,EAAA,KASA,QAAA6J,GAAAC,GACA,MAAAA,GAAAhF,QAAA,4BAAA,QAUA,QAAAiF,GAAAC,GACA,MAAAH,GAAAG,GAAAlF,QAAA,IAAA,cAAAA,QAAA,IAAA,cAAAA,QAAA,IAAA,eAAAA,QAAA,IAAA,gBAAAA,QAAA,OAAA,QAUA,QAAAmF,GAAAC,EAAAC,GAEA,IAAA,GADApF,GAAA9H,EACAI,EAAA,EAAAoB,EAAA0L,EAAAzL,OAAAD,EAAApB,IAAAA,EAEA,IAAA0H,EAAAgE,EAAAoB,EAAA9M,KAAAqB,SACAqG,EAAAA,EAAAE,KAAA,MACAhI,EAAAiN,EAAA/M,KAAA4H,IAGA,OACAxF,IAAA4K,EAAA9M,GACAsC,KAAAoF,EAAAqF,UAAA,EAAAnN,EAAAoN,OAAAlB,MAAA,MAAAzK,OACAmB,OAAA5C,EAAAoN,MAAAtF,EAAAuF,YAAA,KAAArN,EAAAoN,OAAA,EAQA,OAAA,MAWA,QAAAE,GAAAC,EAAAjL,EAAAI,GACA,GAEA1C,GAFA8H,EAAAgE,EAAAxJ,GACA2K,EAAA,GAAAlF,QAAA,MAAA6E,EAAAW,GAAA,MAKA,OAFA7K,IAAA,EAEAoF,GAAAA,EAAArG,OAAAiB,IAAA1C,EAAAiN,EAAA/M,KAAA4H,EAAApF,KACA1C,EAAAoN,MAGA,KAUA,QAAAI,GAAA1K,GAWA,IAAA,GARAiK,GAIAE,EACAQ,EACAC,EARAR,GAAAvO,EAAAoG,SAAAC,MACA2I,EAAA9P,SAAA+P,qBAAA,UAEAC,EAAA,GAAA/K,EACAgL,EAAA,2EACAC,EAAA,iEAKA3N,EAAA,EAAAA,EAAAuN,EAAAlM,SAAArB,EAAA,CACA,GAAA4N,GAAAL,EAAAvN,EACA4N,GAAAnH,KACAqG,EAAAxO,KAAAsP,EAAAnH,KAIA,GAAA4G,EAAAK,EAAA5N,KAAA2N,GAMA,CACA,GAAA1Q,GAAAsQ,EAAA,GAAA,OAAAA,EAAA,GAAA,GACApC,EAAAoC,EAAA,GAAAvB,MAAA,KAAAlE,KAAA,YAEA+E,GAAAH,EAAAa,EAAA,IAAA5F,QAAA,KAAA,MACAoF,EAAA,GAAAlF,QAAA,WAAA5K,EAAA,cAAAkO,EAAA,mBAAA0B,EAAA,aAVAE,GAAA,GAAAlF,QAAA6E,EAAAiB,GAAAhG,QAAA,OAAA,QAcA,IAAA6F,EAAAV,EAAAC,EAAAC,GACA,MAAAQ,EAIA,IAAAD,EAAAM,EAAA7N,KAAA2N,GAAA,CACA,GAAA7O,GAAAyO,EAAA,EAMA,IALAV,EAAAD,EAAAW,EAAA,IAGAR,EAAA,GAAAlF,QAAA,KAAA/I,EAAA,eAAA+N,EAAA,cAAA,KAEAW,EAAAV,EAAAC,EAAAC,EAAA,IACA,MAAAQ,EAMA,IAFAT,EAAA,GAAAlF,QAAAgF,GAEAW,EAAAV,EAAAC,EAAAC,GACA,MAAAQ,GAIA,MAAA,MA8CA,QAAAO,GAAA1D,GACA,IAAAA,EAAArI,MACA,MAAA,KAWA,KAAA,GAJAuL,GACAS,EALAC,EAAA,mFACAC,EAAA,4EACAC,EAAA9D,EAAArI,MAAAgK,MAAA,MACAhK,KAGAoM,EAAA,sBAAApO,KAAAqK,EAAA1K,SAEAO,EAAA,EAAAoB,EAAA6M,EAAA5M,OAAAD,EAAApB,IAAAA,EAAA,CACA,GAAAqN,EAAAW,EAAAlO,KAAAmO,EAAAjO,IACA8N,GACA5L,IAAAmL,EAAA,GACA3K,KAAA2K,EAAA,IAAAvE,EACAmC,KAAAoC,EAAA,GAAAA,EAAA,GAAAvB,MAAA,KAAA,GACAxJ,MAAA+K,EAAA,GACA7K,OAAA6K,EAAA,IAAAA,EAAA,GAAA,UAEA,CAAA,KAAAA,EAAAU,EAAAjO,KAAAmO,EAAAjO,KAQA,QAPA8N,IACA5L,IAAAmL,EAAA,GACA3K,KAAA2K,EAAA,IAAAvE,EACAxG,MAAA+K,EAAA,GACA7K,OAAA6K,EAAA,IAAAA,EAAA,GAAA,OAMAS,EAAApL,MAAAoL,EAAAxL,OACAwL,EAAApL,KAAA8H,EAAAsD,EAAA5L,IAAA4L,EAAAxL,OAGAwL,EAAAxL,OACAwL,EAAAnL,QAAA8H,EAAAqD,EAAA5L,IAAA4L,EAAAxL,OAGAR,EAAAxD,KAAAwP,GAGA,MAAAhM,GAAAT,QAIAS,EAAA,GAAAQ,OAAAR,EAAA,GAAAU,QAAA0L,EACApM,EAAA,GAAAU,OAAA0K,EAAAgB,EAAA,GAAApM,EAAA,GAAAI,IAAAJ,EAAA,GAAAQ,MACAR,EAAA,GAAAU,QAAArC,EAAAgK,EAAAgE,gBAIArM,EAAA,GAAAU,OAAA2H,EAAAgE,aAAA,IAIApR,KAAAoN,EAAApN,KACA0C,QAAA0K,EAAA1K,QACAyC,IAAAzE,SAAAkH,SAAAC,KACA9C,MAAAA,IAhBA,KA0BA,QAAAsM,GAAAjE,GAWA,IAAA,GAFAkD,GALA9J,EAAA4G,EAAA5G,WAEA8K,EAAA,gGACAJ,EAAA1K,EAAAuI,MAAA,MACAhK,KAGA9B,EAAA,EAAAoB,EAAA6M,EAAA5M,OAAAD,EAAApB,EAAAA,GAAA,EACA,GAAAqN,EAAAgB,EAAAvO,KAAAmO,EAAAjO,IAAA,CACA,GAAA8N,IACAxL,MAAA+K,EAAA,GACA7K,QAAA6K,EAAA,GACA3K,KAAA2K,EAAA,IAAAA,EAAA,GACApC,KAAAoC,EAAA,GAAAA,EAAA,GAAAvB,MAAA,QACA5J,IAAAmL,EAAA,GAMA,KAHAS,EAAApL,MAAAoL,EAAAxL,OACAwL,EAAApL,KAAA8H,EAAAsD,EAAA5L,IAAA4L,EAAAxL,OAEAwL,EAAAxL,KACA,IACAwL,EAAAnL,QAAA8H,EAAAqD,EAAA5L,IAAA4L,EAAAxL,MACA,MAAAgM,IAGAR,EAAAnL,UACAmL,EAAAnL,SAAAsL,EAAAjO,EAAA,KAGA8B,EAAAxD,KAAAwP,GAIA,MAAAhM,GAAAT,QAKAtE,KAAAoN,EAAApN,KACA0C,QAAA0K,EAAA1K,QACAyC,IAAAzE,SAAAkH,SAAAC,KACA9C,MAAAA,GAPA,KAoBA,QAAAyM,GAAApE,GAeA,GAAA8D,GAAA9D,EAAA1K,QAAAqM,MAAA,KACA,IAAAmC,EAAA5M,OAAA,EACA,MAAA,KAGA,IAMAgM,GACArN,EACAwH,EACAE,EATA8G,EAAA,oFACAC,EAAA,6FACAC,EAAA,yCACA5M,KACAyL,EAAA9P,SAAA+P,qBAAA,UACAmB,IAMA,KAAA3O,IAAAuN,GACApO,EAAAoO,EAAAvN,KAAAuN,EAAAvN,GAAAyG,KACAkI,EAAArQ,KAAAiP,EAAAvN,GAIA,KAAAA,EAAA,EAAAwH,EAAAyG,EAAA5M,OAAAmG,EAAAxH,EAAAA,GAAA,EAAA,CACA,GAAA4O,GAAA,IACA,IAAAvB,EAAAmB,EAAA1O,KAAAmO,EAAAjO,IACA4O,GACA1M,IAAAmL,EAAA,GACA3K,KAAA2K,EAAA,GACA/K,MAAA+K,EAAA,QAEA,IAAAA,EAAAoB,EAAA3O,KAAAmO,EAAAjO,IAAA,CACA4O,GACA1M,IAAAmL,EAAA,GACA3K,KAAA2K,EAAA,GAEA,IAAAwB,IAAAxB,EAAA,GACAO,EAAAe,EAAAtB,EAAA,GAAA,EACA,IAAAO,IACAlG,EAAAgE,EAAAkD,EAAA1M,MACA,CACAwF,EAAAA,EAAAE,KAAA,KACA,IAAAkH,GAAApH,EAAAkE,QAAAgC,EAAAmB,UACAD,IAAA,IACAF,EAAAtM,KAAAuM,EAAAnH,EAAAqF,UAAA,EAAA+B,GAAAhD,MAAA,MAAAzK,aAIA,IAAAgM,EAAAqB,EAAA5O,KAAAmO,EAAAjO,IAAA,CACA,GAAAkC,GAAA3D,EAAAoG,SAAAC,KAAA6C,QAAA,OAAA,IACAnF,EAAA+K,EAAA,GACAR,EAAA,GAAAlF,QAAA+E,EAAAuB,EAAAjO,EAAA,IACA0H,GAAAkF,EAAAC,GAAA3K,IACA0M,GACA1M,IAAAA,EACAI,KAAAoF,EAAAA,EAAApF,KAAAA,EACAI,KAAA,IAIA,GAAAkM,EAAA,CACAA,EAAAlM,OACAkM,EAAAlM,KAAA8H,EAAAoE,EAAA1M,IAAA0M,EAAAtM,MAEA,IAAAK,GAAA8H,EAAAmE,EAAA1M,IAAA0M,EAAAtM,MACA0M,EAAArM,EAAAA,EAAAoF,KAAAoE,MAAAxJ,EAAAtB,OAAA,IAAA,IAEAuN,GAAAjM,QADAA,GAAAqM,EAAAvH,QAAA,OAAA,MAAAwG,EAAAjO,EAAA,GAAAyH,QAAA,OAAA,IACA9E,GAGAsL,EAAAjO,EAAA,IAEA8B,EAAAxD,KAAAsQ,IAGA,MAAA9M,GAAAT,QAKAtE,KAAAoN,EAAApN,KACA0C,QAAAwO,EAAA,GACA/L,IAAAzE,SAAAkH,SAAAC,KACA9C,MAAAA,GAPA,KAwBA,QAAAwI,GAAA1I,EAAAM,EAAA+H,EAAAxK,GACA,GAAAwP,IACA/M,IAAAA,EACAI,KAAA2H,EAGA,IAAAgF,EAAA/M,KAAA+M,EAAA3M,KAAA,CACAV,EAAAsJ,YAAA,EAEA+D,EAAAvM,OACAuM,EAAAvM,KAAA8H,EAAAyE,EAAA/M,IAAA+M,EAAA3M,OAGA2M,EAAAtM,UACAsM,EAAAtM,QAAA8H,EAAAwE,EAAA/M,IAAA+M,EAAA3M,MAGA,IAAA4L,GAAA,cAAApO,KAAAL,EAKA,IAJAyO,IACAe,EAAAzM,OAAA0K,EAAAgB,EAAA,GAAAe,EAAA/M,IAAA+M,EAAA3M,OAGAV,EAAAE,MAAAT,OAAA,GACAO,EAAAE,MAAA,GAAAI,MAAA+M,EAAA/M,IAAA,CACA,GAAAN,EAAAE,MAAA,GAAAQ,OAAA2M,EAAA3M,KACA,OAAA,CACA,KAAAV,EAAAE,MAAA,GAAAQ,MAAAV,EAAAE,MAAA,GAAAY,OAAAuM,EAAAvM,KAGA,MAFAd,GAAAE,MAAA,GAAAQ,KAAA2M,EAAA3M,KACAV,EAAAE,MAAA,GAAAa,QAAAsM,EAAAtM,SACA,EAOA,MAFAf,GAAAE,MAAAoN,QAAAD,GACArN,EAAAuN,SAAA,GACA,EAKA,MAHAvN,GAAAsJ,YAAA,GAGA,EAYA,QAAAkE,GAAAjF,EAAAkF,GASA,IAAA,GAJAhC,GACAuB,EACAlH,EANA4H,EAAA,qEACAxN,KACAyN,KACAC,GAAA,EAKAC,EAAAL,EAAAM,OAAAD,IAAAD,EAAAC,EAAAA,EAAAC,OACA,GAAAD,IAAApF,GAAAoF,IAAAhH,EAAAU,OAAA,CAkBA,GAbAyF,GACA1M,IAAA,KACAQ,KAAAoG,EACAxG,KAAA,KACAE,OAAA,MAGAiN,EAAA1S,KACA6R,EAAAlM,KAAA+M,EAAA1S,MACAsQ,EAAAiC,EAAAxP,KAAA2P,EAAA7O,eACAgO,EAAAlM,KAAA2K,EAAA,IAGA3F,EAAA0F,EAAAqC,GAAA,CACAb,EAAA1M,IAAAwF,EAAAxF,IACA0M,EAAAtM,KAAAoF,EAAApF,KAEAsM,EAAAlM,OAAAoG,IACA8F,EAAAlM,KAAA8H,EAAAoE,EAAA1M,IAAA0M,EAAAtM,MAGA,IAAA4L,GAAA,cAAApO,KAAAqK,EAAA1K,SAAA0K,EAAAwF,YACAzB,KACAU,EAAApM,OAAA0K,EAAAgB,EAAA,GAAAxG,EAAAxF,IAAAwF,EAAApF,OAIAiN,EAAA,GAAAE,GACAD,GAAA,EAEAD,EAAA,GAAAE,IAAA,EAGA3N,EAAAxD,KAAAsQ,GAGAS,GAGAvN,EAAA2H,OAAA,EAAA4F,EAGA,IAAA/B,IACAvQ,KAAAoN,EAAApN,KACA0C,QAAA0K,EAAA1K,QACAyC,IAAAzE,SAAAkH,SAAAC,KACA9C,MAAAA,EAGA,OADAwI,GAAAgD,EAAAnD,EAAAyF,WAAAzF,EAAA0F,SAAA1F,EAAA7H,MAAA6H,EAAA2F,WAAA3F,EAAA1K,SAAA0K,EAAAwF,aACArC,EAQA,QAAAjD,GAAAF,EAAAkF,GACA,GAAAvN,GAAA,IACAuN,GAAA,MAAAA,EAAA,GAAAA,CAEA,KAKA,GADAvN,EAAAsM,EAAAjE,GAEA,MAAArI,GAEA,MAAAvC,GACA,GAAA6I,EACA,KAAA7I,GAIA,IAEA,GADAuC,EAAA+L,EAAA1D,GAEA,MAAArI,GAEA,MAAAvC,GACA,GAAA6I,EACA,KAAA7I,GAIA,IAEA,GADAuC,EAAAyM,EAAApE,GAEA,MAAArI,GAEA,MAAAvC,GACA,GAAA6I,EACA,KAAA7I,GAIA,IAEA,GADAuC,EAAAsN,EAAAjF,EAAAkF,EAAA,GAEA,MAAAvN,GAEA,MAAAvC,GACA,GAAA6I,EACA,KAAA7I,GAIA,SAvtBA,GAAA6I,IAAA,EACAuD,IA8tBA,OALAtB,GAAAC,oCAAAA,EACAD,EAAAwD,+BAAAA,EACAxD,EAAAG,kBAAAA,EACAH,EAAAI,cAAAA,EAEAJ,IAQA,IAEA0F,GACA5J,EACAO,EACAZ,EACApE,EACA4D,EAYA/D,EAnBAyO,EAAAzR,EAAAiD,MACA0F,IAAA,gBAAAN,QAAAA,KAAAC,WAOA9D,GACAwC,OAAA,aACA9B,gBACAI,cACAC,iBACAd,gBACA2F,qBAAA,EACAjD,QACA9B,iBAAA,IACA+B,UAGAsK,GAAA,EAEAtP,EAAAuP,OAAAC,UACAtK,EAAAtB,IAOA/C,GACAC,QAAA,SAEA2G,OAAA,EAQAgI,WAAA,WAEA,MADA7R,GAAAiD,MAAAwO,EACAxO,GAUA+G,OAAA,SAAAxI,EAAApB,GACA,GAAA+H,EAEA,MADAS,GAAA,QAAA,4CACA3F,CAEA,KAAAzB,EAAA,MAAAyB,EAEA,IAAA6O,GAAA3Q,EAAAK,GACAuQ,EAAAD,EAAAE,KAAAtD,YAAA,KACAsD,EAAAF,EAAAE,KAAAzR,OAAA,EAAAwR,EA6CA,OA1CA3R,IACAsC,EAAAtC,EAAA,SAAAE,EAAAqF,GACAnB,EAAAlE,GAAAqF,IAMAnB,EAAAU,aAAAnF,KAAA,qBACAyE,EAAAU,aAAAnF,KAAA,iDAGAyE,EAAAU,aAAA2D,EAAArE,EAAAU,cACAV,EAAAc,WAAAd,EAAAc,WAAAxC,OAAA+F,EAAArE,EAAAc,aAAA,EACAd,EAAAe,cAAAf,EAAAe,cAAAzC,OAAA+F,EAAArE,EAAAe,gBAAA,EACAf,EAAAC,aAAAoE,EAAArE,EAAAC,cAEAtB,EAAA2O,EAAAtK,KACAT,EAAA+K,EAAAE,KAAAzR,OAAAwR,EAAA,GAGA5J,EAAA,KAAA2J,EAAAG,MACAH,EAAAI,KAAA,IAAAJ,EAAAI,KAAA,IACA,IAAAF,EAAA,OAAAjL,EAAA,UAEA+K,EAAAK,WACAhK,EAAA2J,EAAAK,SAAA,IAAAhK,GAGA3D,EAAAE,eACAwF,EAAAC,gBAAA,GAGA3F,EAAA6F,iBACAH,EAAAG,eAAA7F,EAAA6F,gBAGAH,EAAAE,sBAAA5F,EAAA4F,oBAEArH,IAGAE,GAWAgH,QAAA,WAMA,MALApD,OAAA6K,IACAxH,EAAAU,OAAAC,UAAAzH,GACAsO,GAAA,GAGAzO,GAWAmB,QAAA,SAAAhE,EAAA+D,EAAAuI,GAOA,MANA5K,GAAA1B,KACAsM,EAAAvI,MACAA,EAAA/D,EACAA,EAAAH,GAGAgD,EAAAuH,KAAApK,EAAA+D,GAAAuG,MAAA5L,KAAA4N,IAUAlC,KAAA,SAAApK,EAAA+D,GAwBA,QAAAsG,KAMA,IALA,GAAAiC,MAAAjL,EAAAkJ,UAAA7H,OACAsP,GAAAhS,GAAAA,GAAAA,EAAAgS,QAAA,EAIA3Q,KAAAiL,EAAAjL,GAAA2Q,EAAAnP,EAAAuH,KAAApK,EAAAuK,UAAAlJ,IAAAkJ,UAAAlJ,EAEA,KAEA,MAAA0C,GAAAuG,MAAA5L,KAAA4N,GACA,MAAA1L,GAEA,KADAiC,GAAAoP,iBAAArR,EAAAZ,GACAY,GAlCA,GAAAY,EAAAuC,KAAArC,EAAA1B,GACA,MAAAA,EAWA,IAPA0B,EAAA1B,KACA+D,EAAA/D,EACAA,EAAAH,IAKA6B,EAAAqC,GACA,MAAAA,EAIA,IAAAA,EAAAmO,UACA,MAAAnO,EAqBA,KAAA,GAAAoO,KAAApO,GACAvD,EAAAuD,EAAAoO,KACA9H,EAAA8H,GAAApO,EAAAoO,GASA,OAHA9H,GAAA6H,WAAA,EACA7H,EAAA+H,UAAArO,EAEAsG,GAQAmC,UAAA,WAIA,MAHA1C,GAAAU,OAAAgC,YACA8E,GAAA,EAEAzO,GAUAoP,iBAAA,SAAAzG,EAAAxL,GAEA,IAAA+B,EAAAyJ,GAAA,MAAA3I,GAAAwP,eAAA7G,EAAAxL,EAGAoR,GAAA5F,CAOA,KACA1B,EAAAU,OAAAgB,EAAAxL,GACA,MAAAsS,GACA,GAAA9G,IAAA8G,EACA,KAAAA,GAIA,MAAAzP,IAUAwP,eAAA,SAAAE,EAAAvS,GAIA,MAAAoE,GAAAU,aAAA1F,MAAAgF,EAAAU,aAAA1F,KAAAmT,GAAA,QAKAnN,EACAC,GACAvE,QAAAyR,EAAA,IACAvS,IAGA6C,IASA2P,eAAA,SAAApL,GAGA,MAFAD,GAAAC,EAEAvE,GASA4P,gBAAA,SAAAzL,GAGA,MAFA5C,GAAA4C,MAAAA,MAEAnE,GASA6P,eAAA,SAAA3L,GAGA,MAFA3C,GAAA2C,KAAAA,MAEAlE,GASA8P,kBAAA,SAAAtL,GAGA,MAFAjD,GAAAiD,QAAAA,EAEAxE,GAQAuJ,cAAA,WACA,MAAAgF,IAQA5J,YAAA,WACA,MAAAA,IAQAf,QAAA,WACA,MAAAA,MAIA5D,GAAA+P,QAAA/P,EAAA2P,cAiCA,IAAAlR,GAAA,2CAAA6L,MAAA,KACAjM,EAAA,0DAMAL,GAAA2Q,UAAA,GAAArP,OACAtB,EAAA2Q,UAAAqB,YAAAhS,EA0YA6I,IAGA,kBAAAlL,SAAAA,OAAAC,KAEAmB,EAAAiD,MAAAA,EACArE,OAAA,WAAA,WACA,MAAAqE,MAEA,gBAAAvE,QAEAA,OAAAC,QAAAsE,EACA,gBAAAtE,SAEAA,QAAAsE,EAGAjD,EAAAiD,MAAAA,GAGAjD,QC90DApB,ODg1DA,mBC/0DA,SACA,SACAqE,GAGA,GAAA+G,IACAxI,IAAA,KACA0R,WAAA,gBAGA,KACAlJ,GACAxI,IAAA2R,KACAD,WAAAE,4CAEA,MAAApS,IAEA,GAAAqS,IACAC,YAAA,WACA,GAAAC,GAAArU,SAAAkP,KAAAoF,aAAA,SACAC,EAAAF,EAAAG,MAAA,iBAEA,QACAD,SAAAA,EAAAA,EAAA,GAAA,KACAE,OAAAzU,SAAAkP,KAAAoF,aAAA,gBACAI,WAAA1U,SAAAkP,KAAAoF,aAAA,mBACAK,IAAA,SAAA3U,SAAAkP,KAAAoF,aAAA,sBAGAtO,aAAA,WACA,GAAA4O,IAAA,OAEA,OADAA,GAAA/T,KAAA,aACA+T,GAEAC,WAAA,SAAA3P,EAAAvE,GACA,MAAAmK,GAAAxI,IACAyB,EAAAmB,SAAA+C,MAAA/C,QAAAA,IAAAvE,GAEAA,MAIAmU,EAAA,WACA,GAAA7M,GAAAkM,EAAAC,eACArQ,EAAA4D,WAAAmD,EAAAxI,KACAyB,EAAA+G,OAAAA,EAAAxI,KACA2F,KAAAA,EACAM,QAAAuC,EAAAkJ,WACAhO,aAAAmO,EAAAnO,eACAyC,mBAAA,SAAAf,GACAA,EAAA5B,YAAA4B,EAAA5B,WAAA1B,SACAsD,EAAA5B,WAAA1B,OAAAsD,EAAA5B,WAAA1B,OAAA6B,UAAAN,MAAA,EAAA,GAAAM,UAEA,IAAA8O,GAAA,EACA,OAAA,KAAAzK,KAAAC,UAAAwK,KAEAhK,UAIA,QACA+J,KAAAA,EACAD,WAAAV,EAAAU,WACAV,QAAAA,EACArJ,OAAAA,EACAkK,MAAAjR,KC7DA,SAAAzE,EAAA4F,EAAA3F,GACA,mBAAAC,SAAAA,OAAAC,QAAAD,OAAAC,QAAAF,IACA,kBAAAG,SAAAA,OAAAC,IAAAD,OAAA,QAAAH,GACA2F,EAAA5F,GAAAC,KACA,QAAAK,KAAA,WAkDA,QAAAqV,GAAAC,EAAA7B,GACA,GAAA5M,GAAA,KACA0O,EAAApV,EAAAqV,YAAAC,iBAAAH,EAAA,GAEA,OADAC,KAAA1O,EAAA0O,EAAA9B,IACA6B,EAAAI,MAAAjC,IAAA5M,EAIA,QAAA8O,GAAAC,GACA,MAAAA,IAAAA,EAAAC,WAAA,GAAAD,EAAAE,UAAA,IAAAF,EAAAE,UAIA,QAAAC,GAAAH,EAAAzC,EAAA6C,GACA,GAAArT,GAAAsT,EAAAC,CACA,IAAA,gBAAAN,GAAA,MAAAO,GAAAC,OAAAR,EAEA,IADAD,EAAAC,KAAAA,GAAAA,IACAI,EAAA,CAEA,IADAE,KACAvT,EAAA,EAAAsT,EAAAL,EAAA5R,OAAAiS,EAAAtT,EAAAA,IAAAuT,EAAAvT,GAAA0T,EAAAlD,EAAAyC,EAAAjT,GACA,OAAAuT,GAEA,MAAAN,GAOA,QAAAU,GAAA9L,GACA,MAAA,IAAAF,QAAA,WAAAE,EAAA,YAWA,QAAA5G,GAAA2S,EAAAxV,EAAAyV,EAAAC,GAEA,IADA,GAAAC,GAAA/T,EAAA,EAAAsT,EAAAM,EAAAvS,OACAiS,EAAAtT,EAAAA,IACA+T,EAAAD,EAAAF,EAAAvS,OAAArB,EAAA,EAAAA,EACA5B,EAAAyC,KAAAgT,GAAAD,EAAAG,GAAAH,EAAAG,GAAAA,EAAAH,EAEA,OAAAA,GAUA,QAAAI,GAAAJ,EAAAxV,EAAAyV,GACA,IAAA,GAAA7T,GAAA,EAAAsT,EAAAM,EAAAvS,OAAAiS,EAAAtT,EAAAA,IACAgT,EAAAY,EAAA5T,MACAgU,EAAAJ,EAAA5T,GAAAiU,WAAA7V,EAAAyV,GACAzV,EAAAyC,KAAAgT,GAAAD,EAAA5T,GAAA4T,EAAA5T,GAAAA,EAAA4T,GAGA,OAAAA,GAQA,QAAAM,GAAAC,GACA,MAAAA,GAAA1M,QAAA,QAAA,SAAA7H,EAAAwU,GACA,MAAAA,GAAArV,gBASA,QAAAsV,GAAAF,GACA,MAAAA,GAAAA,EAAA1M,QAAA,kBAAA,SAAAnI,cAAA6U,EAQA,QAAAhP,GAAAwN,GACAA,EAAAZ,GAAA,kBAAAY,EAAA2B,GAAA,kBAAAC,EACA,IAAAC,GAAA7B,EAAAZ,GAAA,gBACA,OAAA0C,GAAAD,KAAAC,EAAAD,OAQA,QAAAE,GAAA/B,GACA,GAAA6B,GAAA7B,EAAAZ,GAAA,gBACAyC,UAAAC,GAAAD,GAIA,QAAAG,GAAAC,GACA,GAAAC,EACA,KACA,MAAA,QAAAD,GAAApW,SAAAoW,EAAApW,OACA,SAAAoW,GAAA,EACA,UAAAA,GAAA,EACA,SAAAA,EAAA,MACAC,EAAAC,WAAAF,KAAAA,EAAAC,EAAAD,EACA,MAAArV,IACA,MAAAf,QAUA,QAAAuW,GAAAnB,EAAAxV,EAAAyV,GACA,IAAA,GAAA7T,GAAA,EAAAoB,EAAAwS,EAAAvS,OAAAD,EAAApB,IAAAA,EAAA,GAAA5B,EAAAyC,KAAAgT,GAAA,KAAAD,EAAA5T,GAAAA,EAAA4T,GAAA,OAAA,CACA,QAAA,EAYA,QAAAoB,GAAAC,GAGA,MAFA,aAAAA,IAAAA,EAAAC,EAAAC,YACA,yBAAApX,KAAAkX,KAAAA,EAAAC,EAAAC,UAAA,UACAF,EAAAf,EAAAe,GAAA,KAIA,QAAAG,GAAAC,EAAA7E,EAAApS,EAAAkX,GACA,GAAAtV,GAAA,EAAAuV,EAAA/E,GAAAnT,KAAAyK,KAGA0N,EAAAC,GAAA,gBAAAJ,IAAA,KAAAA,EAAAK,OAAA,GAAAD,EAAAJ,GAAAA,CAWA,OATApU,GAAAmS,EAAAoC,GAAA,SAAAG,EAAAvU,GACAH,EAAAsU,EAAA,SAAA5C,GACAvU,EAAAuX,EAAA7N,EAAA9H,KAAAoB,EAAA,EAAAsS,EAAA6B,EAAA5C,GAAAA,IACA,KAAA2C,IACAjY,KAAAiY,GACAC,EAAAlU,OAAArB,EACAiB,EAAA6G,EAAA,SAAAvI,GACAgW,IAAAvV,GAAAT,GACA,MAAA+V,GACAC,EAUA,QAAAK,GAAAjD,EAAAkD,EAAAC,GACA,GAAAC,GAAAvC,EAAAb,GACAI,EAAAgD,EAAAC,IAAA,YACAC,EAAAF,EAAAE,SACAC,EAAA,WACAC,EAAApD,GAAAmD,EACAE,GAAAC,SAAAN,EAAAC,IAAA,QAAA,IAAAK,SAAAN,EAAAC,IAAA,OAAA,IAEA,WAAAjD,IACAgD,EAAAC,IAAA,WAAAE,GACAnD,EAAAmD,GAGAI,MAAAF,EAAA,MAAAA,EAAA,GAAAD,EAAA,EAAAxD,EAAA4D,YACAD,MAAAF,EAAA,MAAAA,EAAA,GAAAD,EAAA,EAAAxD,EAAA6D,WAEA,MAAAX,IAAAlD,EAAAI,MAAA0D,KAAAZ,EAAAI,EAAAQ,KAAAL,EAAA,GAAAM,GACA,MAAAZ,IAAAnD,EAAAI,MAAA4D,IAAAb,EAAAG,EAAAU,IAAAP,EAAA,GAAAM,GA0CA,QAAAE,GAAAjE,EAAA1K,GACA,MAAA,kBAAAA,GAAAA,EAAApH,KAAA8R,EAAAA,GAAA1K,EAGA,QAAA4O,GAAAhB,EAAAC,EAAAzS,GACA,GAAAsP,GAAAtV,KAAA,EACA,OAAAsV,GACA,MAAAkD,GAAA,MAAAC,GACAgB,EAAAnE,GAAAoE,KAAAlB,EAAAlD,EAAAqE,WAAAlB,EAAAnD,EAAAsE,YAAA5T,IAEAyT,EAAAnE,GACAuE,EAAAC,SAAAtB,EAAAC,IAEA,MAAAD,IAAAlD,EAAAqE,WAAAnB,GACA,MAAAC,IAAAnD,EAAAsE,UAAAnB,IAEAzY,MAVAA,KAiBA,QAAA+Z,GAAAC,GAEA,GADAha,KAAAgE,OAAA,EACAgW,EAAA,CACAA,EAAA,gBAAAA,IACAA,EAAAlE,UACA,mBAAAkE,GAAAhW,QAEAgW,GADAA,EAEAha,KAAAgE,OAAAgW,EAAAhW,MACA,KAAA,GAAArB,GAAA,EAAAA,EAAAqX,EAAAhW,OAAArB,IAAA3C,KAAA2C,GAAAqX,EAAArX,IAyoBA,QAAA0T,GAAAlD,EAAAmC,GACA,GACA2E,GACAC,EACAvX,EAHA6H,EAAA8K,EAAAe,WAAA,EAQA,IAAAlD,EAAAgH,GAAA,kBAAAhH,GAAAiH,YAOA,IANAjH,EAAAgH,EAAA3P,GAAA4P,YAAA9E,GAGA2E,EAAA9G,EAAAgH,EAAA3P,GAAA6P,KAAA,KACAH,EAAA/G,EAAAgH,EAAA7E,GAAA+E,KAAA,KAEA1X,EAAA,EAAAA,EAAAuX,EAAAlW,OAAArB,IACAwQ,EAAAgH,EAAAF,EAAAtX,IAAAyX,YAAAF,EAAAvX,GAEA,OAAA6H,GAGA,QAAAiP,GAAAhJ,GACA,MAAAA,KAAAoJ,GAAA,mBAAAnZ,KAAA+P,EAAA6J,SAGA,QAAAZ,KACA,OAAAlB,EAAAqB,EAAAU,aAAAC,EAAAb,WAAAlB,EAAAoB,EAAAY,aAAAD,EAAAZ,WAGA,QAAAc,GAAAF,GACA,GAAAG,GAAAva,SAAAwa,cAAA,UACAC,EAAAL,EAAA5F,MAAAkG,EAEA,OADAH,GAAAvR,IAAAyR,EAAA,GACAF,EAOA,QAAAxE,GAAA4E,GACA,MAAA,IAAAhB,GAAAgB,GA7+BA,GAuBAC,GAAAC,EAAAC,EAvBArB,EAAA3Y,OACAf,EAAA0Z,EAAAzZ,SACAoa,EAAAra,EAAAG,gBACA6a,EAAA,aACAC,EAAA,uCAEAC,EAAA,wDACAP,EAAA,oCACAQ,GAAA,UAAA,WAAA,GACAC,GAAA,qBAAA,wBAAA,GACAC,GAAA,WAAA,YAAA,GACAC,GAAA,IAAA,GAAA,EAAA,GACAC,GACAC,MAAAL,EAAAM,MAAAN,EAAAO,MAAAP,EAAAQ,SAAAR,EAAAS,QAAAT,EACAU,IAAA,iBAAA,mBAAA,GACAC,GAAAV,EAAAA,GAAAA,EACAW,KAAA,oBAAA,sBAAA,GACAC,UAAA,SAAA,UAAA,GACAC,QAAA,mBAAA,qBAAA,GACAZ,OAAAA,EAAAa,SAAAb,EACAjL,OAAAkL,EAAA/F,MAAA+F,EAAAa,KAAAb,EAAAc,MAAAd,EAAAe,KAAAf,GAEAgB,EAAA,gCAEArF,KACAF,EAAA,EACAwF,EAAA,cACAC,EAAA,cACAtD,EAAA,KACApC,EAAA,eACAvC,EAAA,eACAmD,EAAA,WACA,GAAA3V,GAAA/B,EAAAya,cAAA,IACA,QACA9C,UAAA,WACA,GAAAnV,GAAAia,GAAA,YAAA,kBAAA,eAAA,aAAA,cACA,KAAAja,EAAA,EAAAA,EAAAia,EAAA5Y,OAAArB,IACA,GAAAia,EAAAja,IAAAT,GAAAwT,MAAA,MAAAkH,GAAAja,MAGAka,UAAA,aAAA3a,OAGA4a,EAAA,MACAvZ,EAAAwZ,OAAAjK,UAAAvP,SACAyZ,GAAAC,WAAA,EAAAC,KAAA,EAAAC,OAAA,EAAAC,QAAA,EAAAC,QAAA,EAAAC,cAAA,EAAAC,WAAA,GACAnF,EAAAjY,EAAAqd,kBAAA,SAAAC,GAAA,MAAAtd,GAAAqd,iBAAAC,GAygCA,OAj0BA5F,GAAAgF,WACA7B,EAAA,SAAA1F,EAAA9K,GACA,MAAA8K,GAAAuH,UAAAa,SAAAlT,IAEAyQ,EAAA,SAAA3F,EAAA9K,GACA8K,EAAAuH,UAAAc,IAAAnT,IAEA0Q,EAAA,SAAA5F,EAAA9K,GACA8K,EAAAuH,UAAAe,OAAApT,MAIAwQ,EAAA,SAAA1F,EAAA9K,GACA,MAAA8L,GAAA9L,GAAA9J,KAAA4U,EAAAuI,YAEA5C,EAAA,SAAA3F,EAAA9K,GACA8K,EAAAuI,WAAAvI,EAAAuI,UAAA,IAAArT,GAAAsT,QAEA5C,EAAA,SAAA5F,EAAA9K,GACA8K,EAAAuI,UAAAvI,EAAAuI,UAAAzT,QAAAkM,EAAA9L,GAAA,KAAAsT,SAqDA/D,EAAAjH,WAMAiL,IAAA,SAAApO,GACA,MAAA3P,MAAA2P,IAAA,MASA/L,KAAA,SAAA7C,EAAAyV,GACA,MAAA5S,GAAA5D,KAAAe,EAAAyV,IAQAG,SAAA,SAAA5V,EAAAyV,GACA,MAAAG,GAAA3W,KAAAe,EAAAyV,IASAwH,IAAA,SAAAjd,EAAAkd,GACA,GAAAC,GAAAvb,EAAAJ,IACA,KAAAI,EAAA,EAAAA,EAAA3C,KAAAgE,OAAArB,IACAub,EAAAnd,EAAAyC,KAAAxD,KAAAA,KAAA2C,GAAAA,GACAsb,EAAAA,EAAAC,IAAA3b,EAAAtB,KAAAid,GAAA3b,EAAAtB,KAAAid,EAEA,OAAA3b,IAUAiY,KAAA,SAAA2D,EAAAC,GACA,GAAAC,GAAAD,EACA,cACA,YACAE,EAAAte,KACAue,EAAA,SAAAjJ,EAAA3S,GACAiB,EAAAmS,EAAAoI,EAAAG,EAAA3b,GAAA,SAAAiT,GACAN,EAAAkJ,YAAA5I,MAGA6I,EAAA,SAAAnJ,EAAA3S,GACA,IACA,GAAAyb,GAAA,gBAAAD,KAAA9C,EAAA3a,KAAA4U,EAAAgF,SACA,MAAAhF,GAAA+I,GAAAF,EAEA,MAAAjc,IACAqc,EAAAjJ,EAAA3S,GAEA,OAAA,mBAAAwb,GACAne,KAAA0e,QAAA9a,KAAA6a,GACAze,KAAA,GAAAA,KAAA,GAAAqe,GAAA,IAOAjP,KAAA,SAAAgP,GACA,MAAApe,MAAAwa,KAAA4D,GAAA,IASAG,OAAA,SAAA3I,GACA,GAAA0I,GAAAte,IACA,OAAAA,MAAA4D,KAAA,SAAA0R,EAAA3S,GACAiB,EAAAmS,EAAAH,EAAA0I,EAAA3b,GAAA,SAAAA,GACA2S,EAAAkJ,YAAA7b,QAUAgc,QAAA,SAAA/I,GACA,GAAA0I,GAAAte,IACA,OAAAA,MAAA4D,KAAA,SAAA0R,EAAA3S,GACA,GAAAic,GAAAtJ,EAAAuJ,UACAjb,GAAAmS,EAAAH,EAAA0I,EAAA3b,GAAA,SAAAA,GACA2S,EAAAwJ,aAAAnc,EAAAic,QAWAG,SAAA,SAAA/G,EAAAgH,GACA,MAAAjH,GAAAvU,KAAAxD,KAAAgY,EAAAgH,EAAA,SAAA1G,EAAAhD,GACAgD,EAAAkG,YAAAlJ,MAUA2J,UAAA,SAAAjH,EAAAgH,GACA,MAAAjH,GAAAvU,KAAAxD,KAAAgY,EAAAgH,EAAA,SAAA1G,EAAAhD,GACAgD,EAAAwG,aAAAxJ,EAAAgD,EAAAuG,aACA,IAQAK,OAAA,SAAAtJ,GACA,GAAA0I,GAAAte,IACA,OAAAA,MAAA4D,KAAA,SAAA0R,EAAA3S,GACAiB,EAAAmS,EAAAH,EAAA0I,EAAA3b,GAAA,SAAAA,GACA2S,EAAA6F,GAAA2D,aAAAnc,EAAA2S,QAUA6J,MAAA,SAAAvJ,GACA,GAAA0I,GAAAte,IACA,OAAAA,MAAA4D,KAAA,SAAA0R,EAAA3S,GACAiB,EAAAmS,EAAAH,EAAA0I,EAAA3b,GAAA,SAAAA,GACA2S,EAAA6F,GAAA2D,aAAAnc,EAAA2S,EAAA8J,cACA,KAAA,MAUAN,aAAA,SAAA9G,EAAAgH,GACA,MAAAjH,GAAAvU,KAAAxD,KAAAgY,EAAAgH,EAAA,SAAA1G,EAAAhD,GACAgD,EAAA6C,GAAA2D,aAAAxJ,EAAAgD,MAUA+G,YAAA,SAAArH,EAAAgH,GACA,MAAAjH,GAAAvU,KAAAxD,KAAAgY,EAAAgH,EAAA,SAAA1G,EAAAhD,GACA,GAAAgK,GAAAhH,EAAA8G,WACAE,GACAhH,EAAA6C,GAAA2D,aAAAxJ,EAAAgK,GACAhH,EAAA6C,GAAAqD,YAAAlJ,IACA,IAQAiK,YAAA,SAAA3J,GACA,GAAA0I,GAAAte,IACA,OAAAA,MAAA4D,KAAA,SAAA0R,EAAA3S,GACAiB,EAAAmS,EAAAH,EAAA0I,EAAA3b,GAAA,SAAAA,GACA2S,EAAA6F,IAAA7F,EAAA6F,GAAAqE,aAAA7c,EAAA2S,QASAU,MAAA,SAAAgJ,GACA,GACA/I,GAAAtT,EADAuT,IAEA,KAAAvT,EAAA,EAAAsT,EAAAjW,KAAAgE,OAAAiS,EAAAtT,EAAAA,IAAAuT,EAAAvT,GAAA0T,EAAA2I,GAAAhf,KAAAA,KAAA2C,GACA,OAAAwT,GAAAD,IASA+E,SAAA,SAAAzQ,GAEA,MADAA,GAAAjH,EAAAC,KAAAgH,GAAAiE,MAAAqO,GACA9c,KAAA4D,KAAA,SAAA0R,GAEA1R,EAAA4G,EAAA,SAAAA,GACAA,IAAAwQ,EAAA1F,EAAAiE,EAAAjE,EAAA9K,KACAyQ,EAAA3F,EAAAiE,EAAAjE,EAAA9K,SAUA0Q,YAAA,SAAA1Q,GAEA,MADAA,GAAAjH,EAAAC,KAAAgH,GAAAiE,MAAAqO,GACA9c,KAAA4D,KAAA,SAAA0R,GACA1R,EAAA4G,EAAA,SAAAA,GACAA,GAAAwQ,EAAA1F,EAAAiE,EAAAjE,EAAA9K,KACA0Q,EAAA5F,EAAAiE,EAAAjE,EAAA9K,SAUAwQ,SAAA,SAAAxQ,GAEA,MADAA,GAAAjH,EAAAC,KAAAgH,GAAAiE,MAAAqO,GACApF,EAAA1X,KAAA,SAAAsV,GACA,MAAAoC,GAAAlN,EAAA,SAAAA,GACA,MAAAA,IAAAwQ,EAAA1F,EAAA9K,QAWAiV,YAAA,SAAAjV,EAAAkV,GAEA,MADAlV,GAAAjH,EAAAC,KAAAgH,GAAAiE,MAAAqO,GACA9c,KAAA4D,KAAA,SAAA0R,GACA1R,EAAA4G,EAAA,SAAAA,GACAA,IACA,mBAAAkV,GACAA,GAAA1E,EAAA1F,EAAA9K,IAAAyQ,EAAA3F,EAAA9K,GAAA0Q,EAAA5F,EAAA9K,GACAwQ,EAAA1F,EAAA9K,GAAA0Q,EAAA5F,EAAA9K,GAAAyQ,EAAA3F,EAAA9K,SAYAmV,KAAA,SAAAC,GAEA,MADAA,GAAA,gBAAAA,GAAAA,EAAA,GACA5f,KAAA4D,KAAA,SAAA0R,GACAA,EAAAI,MAAAmK,QAAAD,KAQAE,KAAA,WACA,MAAA9f,MAAA4D,KAAA,SAAA0R,GACAA,EAAAI,MAAAmK,QAAA,UAUAE,OAAA,SAAAC,EAAAJ,GAGA,MAFAA,GAAA,gBAAAA,GAAAA,EAAA,GACA,kBAAAI,KAAAA,EAAA,MACAhgB,KAAA4D,KAAA,SAAA0R,GACAA,EAAAI,MAAAmK,QAAAvK,EAAA2K,aAAA3K,EAAA4K,aAAA,OAAAN,EACAI,GAAAA,EAAAxc,KAAA8R,MAUAsJ,MAAA,WACA,MAAAzI,GAAAnW,KAAAgE,OAAAhE,KAAA,QAOAmgB,KAAA,WACA,MAAAhK,GAAAnW,KAAAgE,OAAAhE,KAAAA,KAAAgE,OAAA,QAOAoc,KAAA,WACA,MAAApgB,MAAAqgB,QAAA,gBAOAC,SAAA,WACA,MAAAtgB,MAAAqgB,QAAA,oBAOAE,OAAA,WACA,MAAAvgB,MAAAqgB,QAAAlF,IASAkF,QAAA,SAAAhC,GACA,MAAAlI,GAAAnW,KAAAge,IACA,SAAA1I,GAEA,IADAA,EAAAA,EAAA+I,GACA/I,GAAA,IAAAA,EAAAQ,UACAR,EAAAA,EAAA+I,EAEA,OAAA/I,IAAA,GAEA,SAAAA,GACA,MAAAA,OASAkL,MAAA,WAEA,MADAxgB,MAAAgE,QAAAhE,KAAA,GAAAwgB,QACAxgB,MAOAygB,KAAA,WAEA,MADAzgB,MAAAgE,QAAAhE,KAAA,GAAAygB,OACAzgB,MAUA2Y,IAAA,SAAA+H,EAAAC,GAmBA,QAAA5f,GAAAuU,EAAAsC,EAAAhN,GACA,IAAA,GAAAxH,KAAAwd,GACA,GAAAA,EAAAjd,eAAAP,GAAA,CACAwH,EAAAgW,EAAAxd,IAEAwU,EAAAD,EAAAvU,KAAAsZ,EAAAhc,KAAAkK,MAAAgN,IAAAoF,MAAApS,GAAAyO,EACA,KAAA/D,EAAAI,MAAAkC,GAAA2B,EAAAjE,EAAA1K,GAAA,MAAA1I,MAxBA,GAAA0V,GAAAgJ,EAAAF,CAEA,OAAAvf,UAAAwf,GAAA,gBAAAD,IAEAC,EAAA3gB,KAAA,GACA2gB,EACAA,IAAAxgB,GAAAwgB,IAAA9G,GACAjC,EAAA+I,IAAAxgB,EAAAgW,EAAAhW,MAAAgW,EAAA0K,WACA,SAAAH,EAAA9I,EAAAkJ,MAAA,UAAAJ,EAAA9I,EAAAmJ,OAAA,KAEAL,EAAA/I,EAAA+I,IAAArL,EAAAsL,EAAAD,GAAA,KALA,OAQA,gBAAAA,KACAE,KACAA,EAAAF,GAAAC,GAaA3gB,KAAA4D,KAAA7C,KASA6X,OAAA,SAAAoI,EAAAC,GACA,GAAAD,GAAA,gBAAAA,KAAA,gBAAAA,GAAA1H,KAAA,gBAAA0H,GAAA5H,MACA,MAAApZ,MAAA4D,KAAA,SAAA0R,GACAiD,EAAAjD,EAAA0L,EAAA5H,KAAA4H,EAAA1H,MAEA,IAAA,gBAAA0H,IAAA,gBAAAC,GACA,MAAAjhB,MAAA4D,KAAA,SAAA0R,GACAiD,EAAAjD,EAAA0L,EAAAC,IAGA,KAAAjhB,KAAA,GAAA,OACAsZ,IAAA,EACAF,KAAA,EACA2H,OAAA,EACAD,MAAA,EAEA,IAAAxL,GAAAtV,KAAA,GACAkhB,EAAA5L,EAAA6L,cAAA7gB,gBACA8gB,EAAA9L,EAAA+L,wBACA7H,EAAAE,IACAoH,EAAAxL,EAAA2K,YACAc,EAAAzL,EAAA4K,aACA5G,EAAA8H,EAAA9H,IAAAE,EAAAf,EAAA/N,KAAAzD,IAAA,EAAAia,GAAAA,EAAAI,UAAAnhB,EAAAmP,KAAAgS,WACAlI,EAAAgI,EAAAhI,KAAAI,EAAAhB,EAAA9N,KAAAzD,IAAA,EAAAia,GAAAA,EAAAK,WAAAphB,EAAAmP,KAAAiS,WAEA,QACAjI,IAAAA,EACAF,KAAAA,EACA2H,OAAAA,EACAD,MAAAA,IAQAU,IAAA,WACA,IAAAxhB,KAAAgE,OAAA,OAAA+c,OAAA,EAAAD,MAAA,EACA,IAAAxL,GAAAtV,KAAA,GACAkhB,EAAA,GAAA5L,EAAAQ,UAAAR,EAAAhV,gBACAmhB,EAAAP,IAAA5L,EAAAI,OAAAJ,EAAA2K,aAAA3K,EAAA4K,aAcA,KAZA,SAAA5H,GACA,GAAAxB,IACA4K,SAAApM,EAAAI,MAAAgM,UAAA,GACAC,WAAArM,EAAAI,MAAAiM,YAAA,GACA9B,QAAAvK,EAAAI,MAAAmK,SAAA,GAOA,OALAvH,GAAAsG,QAAAjG,KACA+I,SAAA,WACAC,WAAA,SACA9B,QAAA,UAEA/I,GACA9W,MACA8gB,EAAAI,EACAxW,KAAAzD,IAAAqO,EAAAhG,KAAAsS,YAAAtM,EAAAhG,KAAA2Q,YAAAiB,EAAAU,YAAAV,EAAAjB,YAAAiB,EAAAW,aACAvM,EAAA2K,YACAc,EAAAG,EACAxW,KAAAzD,IAAAqO,EAAAhG,KAAAwS,aAAAxM,EAAAhG,KAAA4Q,aAAAgB,EAAAY,aAAAZ,EAAAhB,aAAAgB,EAAAa,cACAzM,EAAA4K,YAGA,OADAuB,IAAAzhB,KAAA4e,QAAAjG,IAAA8I,IAEAV,OAAAA,EACAD,MAAAA,IAWAkB,KAAA,SAAA5e,EAAAud,GACA,GACAzC,GADA5I,EAAAtV,KAAA,EAGA,IAAA,gBAAAoD,MAAAA,YAAA2Z,SAAA,CACA,IAAAmB,IAAA9a,GACAA,EAAAO,eAAAua,IAAAle,KAAAgiB,KAAA9D,EAAA9a,EAAA8a,GAEA,OAAAle,MAGA,MAAA,mBAAA2gB,GACArL,EAAA8F,EAAA1a,KAAA0C,GACAqZ,EAAA/b,KAAA0C,IAAA,gBAAAkS,GAAAlS,IACA,EAAAkS,EAAAlS,GAAAkS,EAAAZ,GAAAtR,GAFA,KAGApD,KAAA4D,KAAA,SAAA0R,GACA8F,EAAA1a,KAAA0C,GAAAkS,EAAAlS,GAAAmW,EAAAjE,EAAAqL,GAAArL,EAAA2B,GAAA7T,EAAAmW,EAAAjE,EAAAqL,OASAsB,WAAA,SAAA7e,GACA,MAAApD,MAAA4D,KAAA,SAAA0R,GACAmH,EAAA/b,KAAA0C,GAAAkS,EAAAlS,IAAA,EAAAkS,EAAA4M,gBAAA9e,MASA+e,IAAA,SAAArL,GACA,MAAA,gBAAAA,IAAA,gBAAAA,GACA9W,KAAAgiB,KAAA,QAAAlL,GACA9W,KAAAgE,OAAAhE,KAAA,GAAA6G,MAAA,MAUAiB,KAAA,SAAAsa,EAAAzB,GACA,GAAAD,GAAAne,EAAA+S,EAAAtV,KAAA,EACA,OAAA,mBAAA2gB,GACArL,GACAoL,EAAA5Y,EAAAwN,GACA,mBAAA8M,IACAxe,EAAA0R,EAAA+M,WAAA,SAAAC,IACA/f,GAAA,GAAA+f,EAAA5iB,MAAAkV,MAAA+H,MAAA+D,EAAA7J,EAAAtU,EAAA,KAAA+U,EAAAgL,EAAAzb,UAEA6Z,IAEA,mBAAAA,GAAA0B,KACA1B,EAAA0B,GAAA9K,EAAAtX,KAAAgiB,KAAA,QAAAhL,EAAAoL,MACA1B,EAAA0B,KAVA,KAaApiB,KAAA4D,KAAA,SAAA0R,GAAAxN,EAAAwN,GAAA8M,GAAAzB,KASA/C,OAAA,WAEA,MADA5d,MAAA2W,SAAAU,GACArX,KAAAuiB,UAOA7D,MAAA,WACA,MAAA1e,MAAA4D,KAAA,SAAA0R,GAGA,IAFAqB,EAAArB,EAAAsB,WAAAS,GAEA/B,EAAAuJ,YACAvJ,EAAAkN,YAAAlN,EAAAuJ,eASA0D,OAAA,WACA,MAAAviB,MAAA4D,KAAA,SAAA0R,GACAA,EAAA6F,IAAA7F,EAAA6F,GAAAqH,YAAAlN,MASAsE,UAAA,SAAAnB,GACA,MAAAe,GAAAhW,KAAAxD,KAAA,KAAAyY,EAAA,MAOAkB,WAAA,SAAAnB,GACA,MAAAgB,GAAAhW,KAAAxD,KAAAwY,EAAA,KAAA,OAmDArC,EAAAsM,eAAA,SAAAC,GACAtK,EAAAsK,QACAvM,GAAAsM,gBAGAtM,EAAAwM,IAAA,SAAAjC,EAAA1I,GAEA,IAAA,GAAA5U,KAAAsd,GACAA,EAAA/c,eAAAP,MAAA4U,GAAA+B,EAAAjH,WAAA1P,GAAAsd,EAAAtd,KAIA+S,EAAAC,OAAA,SAAAR,GAEA,MAAA,gBAAAA,IAAA,KAAAA,EACA,WACA,GAAAkF,EAAApa,KAAAkV,GAAA,OAAA8E,EAAA9E,GACA,IAAAgN,GAAAhN,EAAAhB,MAAA,kBACAU,EAAAnV,EAAAya,cAAA,OACAG,KACAnD,EAAAgL,EAAAlH,EAAAkH,EAAA,GAAA3gB,eAAA,KACA4gB,EAAAjL,EAAAA,EAAA,GAAA,EAAA,EACAkL,EAAAlL,GAAAA,EAAA,GACAmL,EAAA5H,CAGA,KADA7F,EAAA0N,UAAApL,EAAAA,EAAA,GAAAhC,EAAAgC,EAAA,GAAAhC,EACAiN,KAAAvN,EAAAA,EAAAuJ,UAEAiE,IAAAxN,GAAA,IAAAA,EAAAQ,WAAAR,EAAAA,EAAA8J,YACA,GACAwD,IAAA,GAAAtN,EAAAQ,UACAiF,EAAA9Z,KAAAqU,SAEAA,EAAAA,EAAA8J,YAIA,OADAxb,GAAAmX,EAAA,SAAAzF,GAAAA,EAAAyN,IAAAzN,EAAAyN,GAAAP,YAAAlN,KACAyF,KACApF,EAAAC,IAAAA,EAAAS,WAAA,QAGAF,EAAAhW,IAAA,WACA,GAAA8iB,GAAA9M,EAAA0K,UACA,QACAC,MAAApW,KAAAzD,IAAA9G,EAAAmP,KAAAsS,YAAApH,EAAAoH,YAAAqB,EAAAnC,OACAC,OAAArW,KAAAzD,IAAA9G,EAAAmP,KAAAwS,aAAAtH,EAAAsH,aAAAmB,EAAAlC,UAIA5K,EAAA0I,WAAA,SAAAvJ,GACA,IAAA,GAAApT,GAAAsI,EAAA8K,EAAAsB,WAAAjU,EAAA,EAAAoB,EAAAyG,GAAAA,EAAAxG,QAAA,EAAAD,EAAApB,EAAAA,IACA,IAAA6H,EAAA7H,GAAAmT,WAAA5T,EAAAsI,EAAAzG,EAAApB,GAEA,OAAAT,IAGAiU,EAAA0K,SAAA,WACA,OACAC,MAAAjH,EAAAqJ,WACAnC,OAAAlH,EAAAsJ,cAIAhN,EAAAiN,WAAA,2BAAA5I,GACA,SAAA6I,EAAA5S,GACA,MAAA,MAAA,GAAA4S,EAAAC,wBAAA7S,KAEA,SAAA4S,EAAA5S,GACA,MAAA4S,KAAA5S,GAAA4S,EAAA3F,SAAAjN,IAGA0F,IC3jCA,SAAAzW,EAAA4F,EAAA3F,GACA,mBAAAC,SAAAA,OAAAC,QAAAD,OAAAC,QAAAF,IACA,kBAAAG,SAAAA,OAAAC,IAAAD,OAAA,QAAAH,GACA2F,EAAA5F,GAAAC,KACA,QAAAK,KAAA,WAgBA,QAAAujB,GAAAhN,GACA,SAAAxQ,MAAAvC,KAAA+S,EAAA,GAGA,QAAAZ,GAAAL,GACA,GAAAgD,EACA,OAAAhD,IAAA,gBAAAA,KAAAgD,EAAAhD,EAAAQ,YAAA,GAAAwC,GAAA,GAAAA,GAGA,QAAAkL,GAAA9C,GACA,MAAA,gBAAAA,IAAA+C,SAAA/C,EAAA1c,QAGA,QAAA0f,GAAAnN,GACA,IAAA,GAAA9L,MAAA9H,EAAA,EAAAsT,EAAAM,EAAAvS,OAAAiS,EAAAtT,IAAAA,EAAA6gB,EAAAjN,EAAA5T,IAAA8H,EAAAA,EAAAgC,OAAA8J,EAAA5T,IAAA8H,EAAAA,EAAAzG,QAAAuS,EAAA5T,EACA,OAAA8H,GAGA,QAAAkZ,GAAApN,GACA,GAAA5T,GAAAoB,EAAAue,IACAnc,GACA,IAAAxD,EAAA,EAAAA,EAAA4T,EAAAvS,OAAArB,IAAA,CACA,IAAAoB,EAAA,EAAAA,EAAAue,EAAAte,OAAAD,IACA,GAAAue,EAAAve,IAAAwS,EAAA5T,GACA,QAAAwD,EAGAmc,GAAAA,EAAAte,QAAAuS,EAAA5T,GAEA,MAAA2f,GAIA,QAAAsB,GAAAC,GACA,MAAAA,GACA,gBAAAA,GAAAC,EAAAD,GAAA,IACAA,EAAA/N,IAAA0N,EAAAK,GAAAA,EAAA,GACAA,EAHA1jB,EAWA,QAAA2jB,GAAArG,EAAAsG,GACA,GAAAxhB,GAAAshB,EAAAD,EAAAG,EACA,OAAAF,IAAApG,EACAA,IAAA5D,GAAAlE,EAAA8H,IACAsG,GAAAtG,IAAA5D,GAAAlE,EAAAkO,IAAAT,EAAA3F,EAAAoG,IAAApG,MAEAA,GAAA+F,EAAA/F,GAAAiG,EAAAjG,GAGAtd,EAAA6jB,wBAAA,UAAAvG,IAAAlb,EAAAkb,EAAA7I,MAAAqP,IACAV,EAAA,EAAAS,uBAAAzhB,EAAA,KAGAkb,IAAAA,EAAArd,UAAAqd,EAAA3H,UAAA,GAAA2H,EAAA3H,UACAiO,MAAAtG,GAEA8F,EAAA,EAAA/F,iBAAAC,OA3EA,GAAAwG,GAAA,gBACA9jB,EAAAC,SACAyZ,EAAA3Y,OACAsZ,EAAAra,EAAAG,gBACAwV,EAAA,WACAsN,EAAA,2BAAA5I,GACA,SAAA/J,EAAA4S,GACA,MAAA,MAAA,GAAAA,EAAAC,wBAAA7S,KAEA,SAAAA,EAAA4S,GAEA,MADAA,GAAAA,GAAAljB,GAAAkjB,GAAAniB,OAAAsZ,EAAA6I,EACAA,IAAA5S,GAAA4S,EAAA3F,SAAAjN,GAqEA,OAFAqT,GAAAH,KAAAA,EAEAG,GACA9jB,MC5FAF,OAAA,aACA,QACA,SACA,SACAqW,EACA2N,GAEA,YAEA,SAAA3J,GAAAsD,EAAAnY,GACA,MAAA6Q,GAAA2N,EAAArG,EAAAnY,IAGA,MAAA6U,KCbAra,OAAA,eACA,YACA,SACA,SACAqa,GAGA,YAEA,IAAA+J,GAAA,qBACAC,EAAA,4BACAC,EAAA,wBAEA7P,GACA8P,qBAAA,SAAAnZ,GACA,GAEAoZ,IAFApjB,OAAAgiB,WAEA,EAeA,IAbA/I,EAAA,4CAAAvW,KAAA,WAEA,GAAA0W,GAAAH,EAAAna,MAAA,GAAAsa,OAEA,MAAAA,GAAA,MAAAA,GAAA,cAAAA,EACAgK,KACA,UAAAhK,GAAAH,EAAAna,MAAAgb,SAAA,wBACAb,EAAAna,MAAAgb,SAAA,mBACAsJ,MAKA,UAAApZ,EAAAqZ,WAAA,GAAAD,EAAA,CACA,GAAAE,GAAA,wUASAN,EAAA,qBAIA/J,GAAA,2CAAA+E,OAAAsF,OAGA,IAAA,UAAAtZ,EAAAqZ,UAAA,CAEA,GAAAE,GAAA,wUASAN,EAAA,sBAIAO,EAAA,iDAAAN,EAAA,UAGAO,GAAA3L,SAAA9N,EAAA0Z,mBAAA,KAAA,GAAA,CACAzK,GAAA,wCAAAwK,EAAA,aAAA/F,QAAAM,OAAAuF,GACAtK,EAAA,yBAAAwE,QAAA+F,KASAG,aAAA,SAAAC,GACA,GAAAra,GACA6K,EAAAlV,SAAA2kB,eAAA,mBACA,OAAAzP,IACA7K,EAAA6K,EAAA+L,wBACAyD,EAAAra,EAAA2O,KAAAhZ,SAAAkP,KAAAqK,WAAAlP,EAAA6O,IAAAlZ,SAAAkP,KAAAsK,UACAnP,EAAAqW,MAAArW,EAAAsW,SAEA,MAQAiE,UAAA,SAAAF,GACA,GAAAra,GACA6K,EAAAlV,SAAA2kB,eAAA,uBACA,OAAAzP,IACA7K,EAAA6K,EAAA+L,wBACA,IAAA5W,EAAAqW,OAAA,IAAArW,EAAAsW,OACA+D,EAAAra,EAAA2O,KAAAhZ,SAAAkP,KAAAqK,WACAlP,EAAA6O,IAAAlZ,SAAAkP,KAAAsK,UAAAnP,EAAAqW,MAAArW,EAAAsW,QAFA,QAKA,MAIAkE,cAAA,WACA,MAAA1Q,GAAAyQ,UAAA,SAAAxM,EAAAC,EAAAyM,EAAA/G,GACA,MAAA,WAAA3F,EAAA,WAAAC,EAAA,aAAAyM,EAAA,cAAA/G,EAAA,OAGAgH,wBAAA,WACA,MAAA5Q,GAAAyQ,UAAA,SAAAxM,EAAAC,GACA,MAAAD,GAAA,IAAAC,KAGA2M,gBAAA,WACA,MAAA7Q,GAAAyQ,UAAA,SAAAxM,EAAAC,GACA,MAAAA,MAGA4M,qBAAA,WACA9Q,EAAAsQ,aAAA,SAAArM,EAAAC,EAAAyM,EAAA/G,GACAjd,OAAAokB,oBAAAC,kBAAA/M,EAAAC,EAAAyM,EAAA/G,MAGAqH,OAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAArR,EAAA6Q,iBAEAO,IAAA3lB,KAAA6lB,WACAtR,EAAAuR,wBAGAF,IAAAF,IACA1lB,KAAA6lB,UACAtR,EAAAuR,wBAEA5kB,OAAAoG,SAAAC,KAAA,mBAIAvG,WAAAuT,EAAAiR,OAAAO,KAAAxR,EAAAkR,EAAA,GAAAG,GAAAH,IAGAK,sBAAA,WACAvR,EAAAyQ,UAAA,SAAAxM,EAAAC,EAAAyM,EAAA/G,GACAjd,OAAAokB,oBAAAU,eAAAxN,EAAAC,EAAAyM,EAAA/G,MAIA8H,cAAA,WACA1R,EAAAiR,OAAA,IACAjR,EAAA6Q,mBACA,IAIAc,aAAA,SAAAC,GACAhM,EAAA,QAAAa,SAAA,aAAA,SAAAb,EAAA,QAAA6H,KAAA,wBACAmE,EAAA7e,SAAAC,KAAA,sBAKA6e,EAAA,SAAAlb,GACAqJ,EAAAsR,UAAA1L,EAAA,QAAAa,SAAA,WAEAhb,KAAAqmB,cACArmB,KAAAqmB,aAAA,GAEA,QAAAnb,EAAAob,YAAA,OAAApb,EAAAob,YAAApb,EAAAob,WAAA1R,OAAA1J,EAAAob,WAAA1R,MAAA,UACAL,EAAA8P,qBAAAnZ,GACAhK,OAAA+jB,cAAA1Q,EAAA0Q,cACA/jB,OAAAmkB,qBAAA9Q,EAAA8Q,qBACAnkB,OAAAikB,wBAAA5Q,EAAA4Q,wBACAjkB,OAAA+kB,cAAA1R,EAAA0R,cACA/kB,OAAAqlB,wBAAA,iBACArlB,OAAAqlB,wBAAA,wBAEAhS,EAAAsR,WACAtR,EAAA0R,iBAIA1R,EAAA2R,aAAAhlB,SAIA,QACAgU,KAAAkR,EAEA7R,QAAAA,INhMA,IAAAiS,IAAApmB,SAAA2kB,eAAA,MACA0B,QAAAD,GAAA9R,aAAA,cAEAgS,SAAAxb,QACAyb,OACAxQ,MAAA,oCACAyQ,KAAA,kCACAC,GAAA,8BACAC,SAAA,uCACAC,aAAA,iCACAC,UAAA,gDACAlD,MAAA,oCACAmD,MAAA,oCACAC,aAAA,4DACA9R,MAAA,6CAEA+R,MACAN,IACAhnB,QAAA,SAKA6mB,SACA,WACA,kBACA,eACA,SACAI,EC9BAM,EACAC,GAEA,YA8DA,SAAAC,GAAAziB,GACA,GAAA0iB,GAAAnnB,SAAAkP,KAAAoF,aAAA,2BACA4H,EAAAlc,SAAAwa,cAAA,OACA0B,GAAAtW,KAAA,WACAsW,EAAAzD,IAAA,aACAyD,EAAA/U,KAAAggB,EAAA1iB,EACAzE,SAAA+P,qBAAA,QAAA,GAAAqO,YAAAlC;CAlEAwK,EAAA,WAEA,GAAAU,GAAApnB,SAAAkP,KAAAoF,aAAA,oBAGA0S,GAAAlS,OAGAmS,EAAAnS,MACAoR,WAAAlmB,SAAAkP,KAAAoF,aAAA,oBACA6P,UAAAnkB,SAAAkP,KAAAoF,aAAA,mBACAkQ,mBAAAxkB,SAAAkP,KAAAoF,aAAA,+BAIA,YAAA8S,EACAd,SAAA,WAAA,SAAAe,GACAL,EAAAnS,WAAA,UAAA,WACAwS,EAAAvS,WAGA,aAAAsS,EACAd,SAAA,YAAA,SAAAgB,GACAN,EAAAnS,WAAA,WAAA,WACAyS,EAAAxS,WAGA,UAAAsS,EACAd,SAAA,SAAA,SAAAiB,GACAP,EAAAnS,WAAA,QAAA,WACA0S,EAAAzS,WAGA,YAAAsS,EACAd,SAAA,WAAA,SAAAkB,GACAR,EAAAnS,WAAA,UAAA,WACA2S,EAAA1S,WAGA,aAAAsS,EACAd,SAAA,YAAA,SAAAmB,GACAT,EAAAnS,WAAA,WAAA,WACA4S,EAAA3S,WAGA,YAAAsS,EACAd,SAAA,WAAA,SAAAoB,GACAV,EAAAnS,WAAA,UAAA,WACA6S,EAAA5S,WAIAwR,SAAA,qBAAA,SAAAqB,GACAX,EAAAnS,WAAA,SAAA,WACA8S,EAAA7S,YAgBA,IAAA8S,GAAA5nB,SAAA2kB,eAAA,MACAkD,EAAAD,EAAAtT,aAAA,kBAEAuT,IACAX,EAAA,gCAKAxnB,OAAA,MAAA","sourcesContent":["/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define('domReady',definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n\n","/*! Raven.js 1.1.18 (8ad15bc) | github.com/getsentry/raven-js */\n\n/*\n * Includes TraceKit\n * https://github.com/getsentry/TraceKit\n *\n * Copyright 2015 Matt Robenolt and other contributors\n * Released under the BSD license\n * https://github.com/getsentry/raven-js/blob/master/LICENSE\n *\n */\n;(function(window, undefined){\n'use strict';\n\n/*\n TraceKit - Cross brower stack traces - github.com/occ/TraceKit\n MIT license\n*/\n\nvar TraceKit = {\n    remoteFetching: false,\n    collectWindowErrors: true,\n    // 3 lines before, the offending line, 3 lines after\n    linesOfContext: 7\n};\n\n// global reference to slice\nvar _slice = [].slice;\nvar UNKNOWN_FUNCTION = '?';\n\n\n/**\n * TraceKit.wrap: Wrap any function in a TraceKit reporter\n * Example: func = TraceKit.wrap(func);\n *\n * @param {Function} func Function to be wrapped\n * @return {Function} The wrapped func\n */\nTraceKit.wrap = function traceKitWrapper(func) {\n    function wrapped() {\n        try {\n            return func.apply(this, arguments);\n        } catch (e) {\n            TraceKit.report(e);\n            throw e;\n        }\n    }\n    return wrapped;\n};\n\n/**\n * TraceKit.report: cross-browser processing of unhandled exceptions\n *\n * Syntax:\n *   TraceKit.report.subscribe(function(stackInfo) { ... })\n *   TraceKit.report.unsubscribe(function(stackInfo) { ... })\n *   TraceKit.report(exception)\n *   try { ...code... } catch(ex) { TraceKit.report(ex); }\n *\n * Supports:\n *   - Firefox: full stack trace with line numbers, plus column number\n *              on top frame; column number is not guaranteed\n *   - Opera:   full stack trace with line and column numbers\n *   - Chrome:  full stack trace with line and column numbers\n *   - Safari:  line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *   - IE:      line and column number for the top frame only; some frames\n *              may be missing, and column number is not guaranteed\n *\n * In theory, TraceKit should work on all of the following versions:\n *   - IE5.5+ (only 8.0 tested)\n *   - Firefox 0.9+ (only 3.5+ tested)\n *   - Opera 7+ (only 10.50 tested; versions 9 and earlier may require\n *     Exceptions Have Stacktrace to be enabled in opera:config)\n *   - Safari 3+ (only 4+ tested)\n *   - Chrome 1+ (only 5+ tested)\n *   - Konqueror 3.5+ (untested)\n *\n * Requires TraceKit.computeStackTrace.\n *\n * Tries to catch all unhandled exceptions and report them to the\n * subscribed handlers. Please note that TraceKit.report will rethrow the\n * exception. This is REQUIRED in order to get a useful stack trace in IE.\n * If the exception does not reach the top of the browser, you will only\n * get a stack trace from the point where TraceKit.report was called.\n *\n * Handlers receive a stackInfo object as described in the\n * TraceKit.computeStackTrace docs.\n */\nTraceKit.report = (function reportModuleWrapper() {\n    var handlers = [],\n        lastArgs = null,\n        lastException = null,\n        lastExceptionStack = null;\n\n    /**\n     * Add a crash handler.\n     * @param {Function} handler\n     */\n    function subscribe(handler) {\n        installGlobalHandler();\n        handlers.push(handler);\n    }\n\n    /**\n     * Remove a crash handler.\n     * @param {Function} handler\n     */\n    function unsubscribe(handler) {\n        for (var i = handlers.length - 1; i >= 0; --i) {\n            if (handlers[i] === handler) {\n                handlers.splice(i, 1);\n            }\n        }\n    }\n\n    /**\n     * Remove all crash handlers.\n     */\n    function unsubscribeAll() {\n        uninstallGlobalHandler();\n        handlers = [];\n    }\n\n    /**\n     * Dispatch stack information to all handlers.\n     * @param {Object.<string, *>} stack\n     */\n    function notifyHandlers(stack, isWindowError) {\n        var exception = null;\n        if (isWindowError && !TraceKit.collectWindowErrors) {\n          return;\n        }\n        for (var i in handlers) {\n            if (hasKey(handlers, i)) {\n                try {\n                    handlers[i].apply(null, [stack].concat(_slice.call(arguments, 2)));\n                } catch (inner) {\n                    exception = inner;\n                }\n            }\n        }\n\n        if (exception) {\n            throw exception;\n        }\n    }\n\n    var _oldOnerrorHandler, _onErrorHandlerInstalled;\n\n    /**\n     * Ensures all global unhandled exceptions are recorded.\n     * Supported by Gecko and IE.\n     * @param {string} message Error message.\n     * @param {string} url URL of script that generated the exception.\n     * @param {(number|string)} lineNo The line number at which the error\n     * occurred.\n     * @param {?(number|string)} colNo The column number at which the error\n     * occurred.\n     * @param {?Error} ex The actual Error object.\n     */\n    function traceKitWindowOnError(message, url, lineNo, colNo, ex) {\n        var stack = null;\n\n        if (lastExceptionStack) {\n            TraceKit.computeStackTrace.augmentStackTraceWithInitialElement(lastExceptionStack, url, lineNo, message);\n            processLastException();\n        } else if (ex) {\n            // New chrome and blink send along a real error object\n            // Let's just report that like a normal error.\n            // See: https://mikewest.org/2013/08/debugging-runtime-errors-with-window-onerror\n            stack = TraceKit.computeStackTrace(ex);\n            notifyHandlers(stack, true);\n        } else {\n            var location = {\n                'url': url,\n                'line': lineNo,\n                'column': colNo\n            };\n            location.func = TraceKit.computeStackTrace.guessFunctionName(location.url, location.line);\n            location.context = TraceKit.computeStackTrace.gatherContext(location.url, location.line);\n            stack = {\n                'message': message,\n                'url': document.location.href,\n                'stack': [location]\n            };\n            notifyHandlers(stack, true);\n        }\n\n        if (_oldOnerrorHandler) {\n            return _oldOnerrorHandler.apply(this, arguments);\n        }\n\n        return false;\n    }\n\n    function installGlobalHandler ()\n    {\n        if (_onErrorHandlerInstalled) {\n            return;\n        }\n        _oldOnerrorHandler = window.onerror;\n        window.onerror = traceKitWindowOnError;\n        _onErrorHandlerInstalled = true;\n    }\n\n    function uninstallGlobalHandler ()\n    {\n        if (!_onErrorHandlerInstalled) {\n            return;\n        }\n        window.onerror = _oldOnerrorHandler;\n        _onErrorHandlerInstalled = false;\n        _oldOnerrorHandler = undefined;\n    }\n\n    function processLastException() {\n        var _lastExceptionStack = lastExceptionStack,\n            _lastArgs = lastArgs;\n        lastArgs = null;\n        lastExceptionStack = null;\n        lastException = null;\n        notifyHandlers.apply(null, [_lastExceptionStack, false].concat(_lastArgs));\n    }\n\n    /**\n     * Reports an unhandled Error to TraceKit.\n     * @param {Error} ex\n     * @param {?boolean} rethrow If false, do not re-throw the exception.\n     * Only used for window.onerror to not cause an infinite loop of\n     * rethrowing.\n     */\n    function report(ex, rethrow) {\n        var args = _slice.call(arguments, 1);\n        if (lastExceptionStack) {\n            if (lastException === ex) {\n                return; // already caught by an inner catch block, ignore\n            } else {\n              processLastException();\n            }\n        }\n\n        var stack = TraceKit.computeStackTrace(ex);\n        lastExceptionStack = stack;\n        lastException = ex;\n        lastArgs = args;\n\n        // If the stack trace is incomplete, wait for 2 seconds for\n        // slow slow IE to see if onerror occurs or not before reporting\n        // this exception; otherwise, we will end up with an incomplete\n        // stack trace\n        window.setTimeout(function () {\n            if (lastException === ex) {\n                processLastException();\n            }\n        }, (stack.incomplete ? 2000 : 0));\n\n        if (rethrow !== false) {\n            throw ex; // re-throw to propagate to the top level (and cause window.onerror)\n        }\n    }\n\n    report.subscribe = subscribe;\n    report.unsubscribe = unsubscribe;\n    report.uninstall = unsubscribeAll;\n    return report;\n}());\n\n/**\n * TraceKit.computeStackTrace: cross-browser stack traces in JavaScript\n *\n * Syntax:\n *   s = TraceKit.computeStackTrace(exception) // consider using TraceKit.report instead (see below)\n * Returns:\n *   s.name              - exception name\n *   s.message           - exception message\n *   s.stack[i].url      - JavaScript or HTML file URL\n *   s.stack[i].func     - function name, or empty for anonymous functions (if guessing did not work)\n *   s.stack[i].args     - arguments passed to the function, if known\n *   s.stack[i].line     - line number, if known\n *   s.stack[i].column   - column number, if known\n *   s.stack[i].context  - an array of source code lines; the middle element corresponds to the correct line#\n *\n * Supports:\n *   - Firefox:  full stack trace with line numbers and unreliable column\n *               number on top frame\n *   - Opera 10: full stack trace with line and column numbers\n *   - Opera 9-: full stack trace with line numbers\n *   - Chrome:   full stack trace with line and column numbers\n *   - Safari:   line and column number for the topmost stacktrace element\n *               only\n *   - IE:       no line numbers whatsoever\n *\n * Tries to guess names of anonymous functions by looking for assignments\n * in the source code. In IE and Safari, we have to guess source file names\n * by searching for function bodies inside all page scripts. This will not\n * work for scripts that are loaded cross-domain.\n * Here be dragons: some function names may be guessed incorrectly, and\n * duplicate functions may be mismatched.\n *\n * TraceKit.computeStackTrace should only be used for tracing purposes.\n * Logging of unhandled exceptions should be done with TraceKit.report,\n * which builds on top of TraceKit.computeStackTrace and provides better\n * IE support by utilizing the window.onerror event to retrieve information\n * about the top of the stack.\n *\n * Note: In IE and Safari, no stack trace is recorded on the Error object,\n * so computeStackTrace instead walks its *own* chain of callers.\n * This means that:\n *  * in Safari, some methods may be missing from the stack trace;\n *  * in IE, the topmost function in the stack trace will always be the\n *    caller of computeStackTrace.\n *\n * This is okay for tracing (because you are likely to be calling\n * computeStackTrace from the function you want to be the topmost element\n * of the stack trace anyway), but not okay for logging unhandled\n * exceptions (because your catch block will likely be far away from the\n * inner function that actually caused the exception).\n *\n */\nTraceKit.computeStackTrace = (function computeStackTraceWrapper() {\n    var debug = false,\n        sourceCache = {};\n\n    /**\n     * Attempts to retrieve source code via XMLHttpRequest, which is used\n     * to look up anonymous function names.\n     * @param {string} url URL of source code.\n     * @return {string} Source contents.\n     */\n    function loadSource(url) {\n        if (!TraceKit.remoteFetching) { //Only attempt request if remoteFetching is on.\n            return '';\n        }\n        try {\n            var getXHR = function() {\n                try {\n                    return new window.XMLHttpRequest();\n                } catch (e) {\n                    // explicitly bubble up the exception if not found\n                    return new window.ActiveXObject('Microsoft.XMLHTTP');\n                }\n            };\n\n            var request = getXHR();\n            request.open('GET', url, false);\n            request.send('');\n            return request.responseText;\n        } catch (e) {\n            return '';\n        }\n    }\n\n    /**\n     * Retrieves source code from the source code cache.\n     * @param {string} url URL of source code.\n     * @return {Array.<string>} Source contents.\n     */\n    function getSource(url) {\n        if (!isString(url)) return [];\n        if (!hasKey(sourceCache, url)) {\n            // URL needs to be able to fetched within the acceptable domain.  Otherwise,\n            // cross-domain errors will be triggered.\n            var source = '';\n            if (url.indexOf(document.domain) !== -1) {\n                source = loadSource(url);\n            }\n            sourceCache[url] = source ? source.split('\\n') : [];\n        }\n\n        return sourceCache[url];\n    }\n\n    /**\n     * Tries to use an externally loaded copy of source code to determine\n     * the name of a function by looking at the name of the variable it was\n     * assigned to, if any.\n     * @param {string} url URL of source code.\n     * @param {(string|number)} lineNo Line number in source code.\n     * @return {string} The function name, if discoverable.\n     */\n    function guessFunctionName(url, lineNo) {\n        var reFunctionArgNames = /function ([^(]*)\\(([^)]*)\\)/,\n            reGuessFunction = /['\"]?([0-9A-Za-z$_]+)['\"]?\\s*[:=]\\s*(function|eval|new Function)/,\n            line = '',\n            maxLines = 10,\n            source = getSource(url),\n            m;\n\n        if (!source.length) {\n            return UNKNOWN_FUNCTION;\n        }\n\n        // Walk backwards from the first line in the function until we find the line which\n        // matches the pattern above, which is the function definition\n        for (var i = 0; i < maxLines; ++i) {\n            line = source[lineNo - i] + line;\n\n            if (!isUndefined(line)) {\n                if ((m = reGuessFunction.exec(line))) {\n                    return m[1];\n                } else if ((m = reFunctionArgNames.exec(line))) {\n                    return m[1];\n                }\n            }\n        }\n\n        return UNKNOWN_FUNCTION;\n    }\n\n    /**\n     * Retrieves the surrounding lines from where an exception occurred.\n     * @param {string} url URL of source code.\n     * @param {(string|number)} line Line number in source code to centre\n     * around for context.\n     * @return {?Array.<string>} Lines of source code.\n     */\n    function gatherContext(url, line) {\n        var source = getSource(url);\n\n        if (!source.length) {\n            return null;\n        }\n\n        var context = [],\n            // linesBefore & linesAfter are inclusive with the offending line.\n            // if linesOfContext is even, there will be one extra line\n            //   *before* the offending line.\n            linesBefore = Math.floor(TraceKit.linesOfContext / 2),\n            // Add one extra line if linesOfContext is odd\n            linesAfter = linesBefore + (TraceKit.linesOfContext % 2),\n            start = Math.max(0, line - linesBefore - 1),\n            end = Math.min(source.length, line + linesAfter - 1);\n\n        line -= 1; // convert to 0-based index\n\n        for (var i = start; i < end; ++i) {\n            if (!isUndefined(source[i])) {\n                context.push(source[i]);\n            }\n        }\n\n        return context.length > 0 ? context : null;\n    }\n\n    /**\n     * Escapes special characters, except for whitespace, in a string to be\n     * used inside a regular expression as a string literal.\n     * @param {string} text The string.\n     * @return {string} The escaped string literal.\n     */\n    function escapeRegExp(text) {\n        return text.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#]/g, '\\\\$&');\n    }\n\n    /**\n     * Escapes special characters in a string to be used inside a regular\n     * expression as a string literal. Also ensures that HTML entities will\n     * be matched the same as their literal friends.\n     * @param {string} body The string.\n     * @return {string} The escaped string.\n     */\n    function escapeCodeAsRegExpForMatchingInsideHTML(body) {\n        return escapeRegExp(body).replace('<', '(?:<|&lt;)').replace('>', '(?:>|&gt;)').replace('&', '(?:&|&amp;)').replace('\"', '(?:\"|&quot;)').replace(/\\s+/g, '\\\\s+');\n    }\n\n    /**\n     * Determines where a code fragment occurs in the source code.\n     * @param {RegExp} re The function definition.\n     * @param {Array.<string>} urls A list of URLs to search.\n     * @return {?Object.<string, (string|number)>} An object containing\n     * the url, line, and column number of the defined function.\n     */\n    function findSourceInUrls(re, urls) {\n        var source, m;\n        for (var i = 0, j = urls.length; i < j; ++i) {\n            // console.log('searching', urls[i]);\n            if ((source = getSource(urls[i])).length) {\n                source = source.join('\\n');\n                if ((m = re.exec(source))) {\n                    // console.log('Found function in ' + urls[i]);\n\n                    return {\n                        'url': urls[i],\n                        'line': source.substring(0, m.index).split('\\n').length,\n                        'column': m.index - source.lastIndexOf('\\n', m.index) - 1\n                    };\n                }\n            }\n        }\n\n        // console.log('no match');\n\n        return null;\n    }\n\n    /**\n     * Determines at which column a code fragment occurs on a line of the\n     * source code.\n     * @param {string} fragment The code fragment.\n     * @param {string} url The URL to search.\n     * @param {(string|number)} line The line number to examine.\n     * @return {?number} The column number.\n     */\n    function findSourceInLine(fragment, url, line) {\n        var source = getSource(url),\n            re = new RegExp('\\\\b' + escapeRegExp(fragment) + '\\\\b'),\n            m;\n\n        line -= 1;\n\n        if (source && source.length > line && (m = re.exec(source[line]))) {\n            return m.index;\n        }\n\n        return null;\n    }\n\n    /**\n     * Determines where a function was defined within the source code.\n     * @param {(Function|string)} func A function reference or serialized\n     * function definition.\n     * @return {?Object.<string, (string|number)>} An object containing\n     * the url, line, and column number of the defined function.\n     */\n    function findSourceByFunctionBody(func) {\n        var urls = [window.location.href],\n            scripts = document.getElementsByTagName('script'),\n            body,\n            code = '' + func,\n            codeRE = /^function(?:\\s+([\\w$]+))?\\s*\\(([\\w\\s,]*)\\)\\s*\\{\\s*(\\S[\\s\\S]*\\S)\\s*\\}\\s*$/,\n            eventRE = /^function on([\\w$]+)\\s*\\(event\\)\\s*\\{\\s*(\\S[\\s\\S]*\\S)\\s*\\}\\s*$/,\n            re,\n            parts,\n            result;\n\n        for (var i = 0; i < scripts.length; ++i) {\n            var script = scripts[i];\n            if (script.src) {\n                urls.push(script.src);\n            }\n        }\n\n        if (!(parts = codeRE.exec(code))) {\n            re = new RegExp(escapeRegExp(code).replace(/\\s+/g, '\\\\s+'));\n        }\n\n        // not sure if this is really necessary, but I don’t have a test\n        // corpus large enough to confirm that and it was in the original.\n        else {\n            var name = parts[1] ? '\\\\s+' + parts[1] : '',\n                args = parts[2].split(',').join('\\\\s*,\\\\s*');\n\n            body = escapeRegExp(parts[3]).replace(/;$/, ';?'); // semicolon is inserted if the function ends with a comment.replace(/\\s+/g, '\\\\s+');\n            re = new RegExp('function' + name + '\\\\s*\\\\(\\\\s*' + args + '\\\\s*\\\\)\\\\s*{\\\\s*' + body + '\\\\s*}');\n        }\n\n        // look for a normal function definition\n        if ((result = findSourceInUrls(re, urls))) {\n            return result;\n        }\n\n        // look for an old-school event handler function\n        if ((parts = eventRE.exec(code))) {\n            var event = parts[1];\n            body = escapeCodeAsRegExpForMatchingInsideHTML(parts[2]);\n\n            // look for a function defined in HTML as an onXXX handler\n            re = new RegExp('on' + event + '=[\\\\\\'\"]\\\\s*' + body + '\\\\s*[\\\\\\'\"]', 'i');\n\n            if ((result = findSourceInUrls(re, urls[0]))) {\n                return result;\n            }\n\n            // look for ???\n            re = new RegExp(body);\n\n            if ((result = findSourceInUrls(re, urls))) {\n                return result;\n            }\n        }\n\n        return null;\n    }\n\n    // Contents of Exception in various browsers.\n    //\n    // SAFARI:\n    // ex.message = Can't find variable: qq\n    // ex.line = 59\n    // ex.sourceId = 580238192\n    // ex.sourceURL = http://...\n    // ex.expressionBeginOffset = 96\n    // ex.expressionCaretOffset = 98\n    // ex.expressionEndOffset = 98\n    // ex.name = ReferenceError\n    //\n    // FIREFOX:\n    // ex.message = qq is not defined\n    // ex.fileName = http://...\n    // ex.lineNumber = 59\n    // ex.columnNumber = 69\n    // ex.stack = ...stack trace... (see the example below)\n    // ex.name = ReferenceError\n    //\n    // CHROME:\n    // ex.message = qq is not defined\n    // ex.name = ReferenceError\n    // ex.type = not_defined\n    // ex.arguments = ['aa']\n    // ex.stack = ...stack trace...\n    //\n    // INTERNET EXPLORER:\n    // ex.message = ...\n    // ex.name = ReferenceError\n    //\n    // OPERA:\n    // ex.message = ...message... (see the example below)\n    // ex.name = ReferenceError\n    // ex.opera#sourceloc = 11  (pretty much useless, duplicates the info in ex.message)\n    // ex.stacktrace = n/a; see 'opera:config#UserPrefs|Exceptions Have Stacktrace'\n\n    /**\n     * Computes stack trace information from the stack property.\n     * Chrome and Gecko use this property.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack trace information.\n     */\n    function computeStackTraceFromStackProp(ex) {\n        if (!ex.stack) {\n            return null;\n        }\n\n        var chrome = /^\\s*at (.*?) ?\\(?((?:file|https?|chrome-extension):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,\n            gecko = /^\\s*(.*?)(?:\\((.*?)\\))?@((?:file|https?|chrome).*?):(\\d+)(?::(\\d+))?\\s*$/i,\n            lines = ex.stack.split('\\n'),\n            stack = [],\n            parts,\n            element,\n            reference = /^(.*) is undefined$/.exec(ex.message);\n\n        for (var i = 0, j = lines.length; i < j; ++i) {\n            if ((parts = gecko.exec(lines[i]))) {\n                element = {\n                    'url': parts[3],\n                    'func': parts[1] || UNKNOWN_FUNCTION,\n                    'args': parts[2] ? parts[2].split(',') : '',\n                    'line': +parts[4],\n                    'column': parts[5] ? +parts[5] : null\n                };\n            } else if ((parts = chrome.exec(lines[i]))) {\n                element = {\n                    'url': parts[2],\n                    'func': parts[1] || UNKNOWN_FUNCTION,\n                    'line': +parts[3],\n                    'column': parts[4] ? +parts[4] : null\n                };\n            } else {\n                continue;\n            }\n\n            if (!element.func && element.line) {\n                element.func = guessFunctionName(element.url, element.line);\n            }\n\n            if (element.line) {\n                element.context = gatherContext(element.url, element.line);\n            }\n\n            stack.push(element);\n        }\n\n        if (!stack.length) {\n            return null;\n        }\n\n        if (stack[0].line && !stack[0].column && reference) {\n            stack[0].column = findSourceInLine(reference[1], stack[0].url, stack[0].line);\n        } else if (!stack[0].column && !isUndefined(ex.columnNumber)) {\n            // FireFox uses this awesome columnNumber property for its top frame\n            // Also note, Firefox's column number is 0-based and everything else expects 1-based,\n            // so adding 1\n            stack[0].column = ex.columnNumber + 1;\n        }\n\n        return {\n            'name': ex.name,\n            'message': ex.message,\n            'url': document.location.href,\n            'stack': stack\n        };\n    }\n\n    /**\n     * Computes stack trace information from the stacktrace property.\n     * Opera 10 uses this property.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack trace information.\n     */\n    function computeStackTraceFromStacktraceProp(ex) {\n        // Access and store the stacktrace property before doing ANYTHING\n        // else to it because Opera is not very good at providing it\n        // reliably in other circumstances.\n        var stacktrace = ex.stacktrace;\n\n        var testRE = / line (\\d+), column (\\d+) in (?:<anonymous function: ([^>]+)>|([^\\)]+))\\((.*)\\) in (.*):\\s*$/i,\n            lines = stacktrace.split('\\n'),\n            stack = [],\n            parts;\n\n        for (var i = 0, j = lines.length; i < j; i += 2) {\n            if ((parts = testRE.exec(lines[i]))) {\n                var element = {\n                    'line': +parts[1],\n                    'column': +parts[2],\n                    'func': parts[3] || parts[4],\n                    'args': parts[5] ? parts[5].split(',') : [],\n                    'url': parts[6]\n                };\n\n                if (!element.func && element.line) {\n                    element.func = guessFunctionName(element.url, element.line);\n                }\n                if (element.line) {\n                    try {\n                        element.context = gatherContext(element.url, element.line);\n                    } catch (exc) {}\n                }\n\n                if (!element.context) {\n                    element.context = [lines[i + 1]];\n                }\n\n                stack.push(element);\n            }\n        }\n\n        if (!stack.length) {\n            return null;\n        }\n\n        return {\n            'name': ex.name,\n            'message': ex.message,\n            'url': document.location.href,\n            'stack': stack\n        };\n    }\n\n    /**\n     * NOT TESTED.\n     * Computes stack trace information from an error message that includes\n     * the stack trace.\n     * Opera 9 and earlier use this method if the option to show stack\n     * traces is turned on in opera:config.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack information.\n     */\n    function computeStackTraceFromOperaMultiLineMessage(ex) {\n        // Opera includes a stack trace into the exception message. An example is:\n        //\n        // Statement on line 3: Undefined variable: undefinedFunc\n        // Backtrace:\n        //   Line 3 of linked script file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.js: In function zzz\n        //         undefinedFunc(a);\n        //   Line 7 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html: In function yyy\n        //           zzz(x, y, z);\n        //   Line 3 of inline#1 script in file://localhost/Users/andreyvit/Projects/TraceKit/javascript-client/sample.html: In function xxx\n        //           yyy(a, a, a);\n        //   Line 1 of function script\n        //     try { xxx('hi'); return false; } catch(ex) { TraceKit.report(ex); }\n        //   ...\n\n        var lines = ex.message.split('\\n');\n        if (lines.length < 4) {\n            return null;\n        }\n\n        var lineRE1 = /^\\s*Line (\\d+) of linked script ((?:file|https?)\\S+)(?:: in function (\\S+))?\\s*$/i,\n            lineRE2 = /^\\s*Line (\\d+) of inline#(\\d+) script in ((?:file|https?)\\S+)(?:: in function (\\S+))?\\s*$/i,\n            lineRE3 = /^\\s*Line (\\d+) of function script\\s*$/i,\n            stack = [],\n            scripts = document.getElementsByTagName('script'),\n            inlineScriptBlocks = [],\n            parts,\n            i,\n            len,\n            source;\n\n        for (i in scripts) {\n            if (hasKey(scripts, i) && !scripts[i].src) {\n                inlineScriptBlocks.push(scripts[i]);\n            }\n        }\n\n        for (i = 2, len = lines.length; i < len; i += 2) {\n            var item = null;\n            if ((parts = lineRE1.exec(lines[i]))) {\n                item = {\n                    'url': parts[2],\n                    'func': parts[3],\n                    'line': +parts[1]\n                };\n            } else if ((parts = lineRE2.exec(lines[i]))) {\n                item = {\n                    'url': parts[3],\n                    'func': parts[4]\n                };\n                var relativeLine = (+parts[1]); // relative to the start of the <SCRIPT> block\n                var script = inlineScriptBlocks[parts[2] - 1];\n                if (script) {\n                    source = getSource(item.url);\n                    if (source) {\n                        source = source.join('\\n');\n                        var pos = source.indexOf(script.innerText);\n                        if (pos >= 0) {\n                            item.line = relativeLine + source.substring(0, pos).split('\\n').length;\n                        }\n                    }\n                }\n            } else if ((parts = lineRE3.exec(lines[i]))) {\n                var url = window.location.href.replace(/#.*$/, ''),\n                    line = parts[1];\n                var re = new RegExp(escapeCodeAsRegExpForMatchingInsideHTML(lines[i + 1]));\n                source = findSourceInUrls(re, [url]);\n                item = {\n                    'url': url,\n                    'line': source ? source.line : line,\n                    'func': ''\n                };\n            }\n\n            if (item) {\n                if (!item.func) {\n                    item.func = guessFunctionName(item.url, item.line);\n                }\n                var context = gatherContext(item.url, item.line);\n                var midline = (context ? context[Math.floor(context.length / 2)] : null);\n                if (context && midline.replace(/^\\s*/, '') === lines[i + 1].replace(/^\\s*/, '')) {\n                    item.context = context;\n                } else {\n                    // if (context) alert(\"Context mismatch. Correct midline:\\n\" + lines[i+1] + \"\\n\\nMidline:\\n\" + midline + \"\\n\\nContext:\\n\" + context.join(\"\\n\") + \"\\n\\nURL:\\n\" + item.url);\n                    item.context = [lines[i + 1]];\n                }\n                stack.push(item);\n            }\n        }\n        if (!stack.length) {\n            return null; // could not parse multiline exception message as Opera stack trace\n        }\n\n        return {\n            'name': ex.name,\n            'message': lines[0],\n            'url': document.location.href,\n            'stack': stack\n        };\n    }\n\n    /**\n     * Adds information about the first frame to incomplete stack traces.\n     * Safari and IE require this to get complete data on the first frame.\n     * @param {Object.<string, *>} stackInfo Stack trace information from\n     * one of the compute* methods.\n     * @param {string} url The URL of the script that caused an error.\n     * @param {(number|string)} lineNo The line number of the script that\n     * caused an error.\n     * @param {string=} message The error generated by the browser, which\n     * hopefully contains the name of the object that caused the error.\n     * @return {boolean} Whether or not the stack information was\n     * augmented.\n     */\n    function augmentStackTraceWithInitialElement(stackInfo, url, lineNo, message) {\n        var initial = {\n            'url': url,\n            'line': lineNo\n        };\n\n        if (initial.url && initial.line) {\n            stackInfo.incomplete = false;\n\n            if (!initial.func) {\n                initial.func = guessFunctionName(initial.url, initial.line);\n            }\n\n            if (!initial.context) {\n                initial.context = gatherContext(initial.url, initial.line);\n            }\n\n            var reference = / '([^']+)' /.exec(message);\n            if (reference) {\n                initial.column = findSourceInLine(reference[1], initial.url, initial.line);\n            }\n\n            if (stackInfo.stack.length > 0) {\n                if (stackInfo.stack[0].url === initial.url) {\n                    if (stackInfo.stack[0].line === initial.line) {\n                        return false; // already in stack trace\n                    } else if (!stackInfo.stack[0].line && stackInfo.stack[0].func === initial.func) {\n                        stackInfo.stack[0].line = initial.line;\n                        stackInfo.stack[0].context = initial.context;\n                        return false;\n                    }\n                }\n            }\n\n            stackInfo.stack.unshift(initial);\n            stackInfo.partial = true;\n            return true;\n        } else {\n            stackInfo.incomplete = true;\n        }\n\n        return false;\n    }\n\n    /**\n     * Computes stack trace information by walking the arguments.caller\n     * chain at the time the exception occurred. This will cause earlier\n     * frames to be missed but is the only way to get any stack trace in\n     * Safari and IE. The top frame is restored by\n     * {@link augmentStackTraceWithInitialElement}.\n     * @param {Error} ex\n     * @return {?Object.<string, *>} Stack trace information.\n     */\n    function computeStackTraceByWalkingCallerChain(ex, depth) {\n        var functionName = /function\\s+([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(/i,\n            stack = [],\n            funcs = {},\n            recursion = false,\n            parts,\n            item,\n            source;\n\n        for (var curr = computeStackTraceByWalkingCallerChain.caller; curr && !recursion; curr = curr.caller) {\n            if (curr === computeStackTrace || curr === TraceKit.report) {\n                // console.log('skipping internal function');\n                continue;\n            }\n\n            item = {\n                'url': null,\n                'func': UNKNOWN_FUNCTION,\n                'line': null,\n                'column': null\n            };\n\n            if (curr.name) {\n                item.func = curr.name;\n            } else if ((parts = functionName.exec(curr.toString()))) {\n                item.func = parts[1];\n            }\n\n            if ((source = findSourceByFunctionBody(curr))) {\n                item.url = source.url;\n                item.line = source.line;\n\n                if (item.func === UNKNOWN_FUNCTION) {\n                    item.func = guessFunctionName(item.url, item.line);\n                }\n\n                var reference = / '([^']+)' /.exec(ex.message || ex.description);\n                if (reference) {\n                    item.column = findSourceInLine(reference[1], source.url, source.line);\n                }\n            }\n\n            if (funcs['' + curr]) {\n                recursion = true;\n            }else{\n                funcs['' + curr] = true;\n            }\n\n            stack.push(item);\n        }\n\n        if (depth) {\n            // console.log('depth is ' + depth);\n            // console.log('stack is ' + stack.length);\n            stack.splice(0, depth);\n        }\n\n        var result = {\n            'name': ex.name,\n            'message': ex.message,\n            'url': document.location.href,\n            'stack': stack\n        };\n        augmentStackTraceWithInitialElement(result, ex.sourceURL || ex.fileName, ex.line || ex.lineNumber, ex.message || ex.description);\n        return result;\n    }\n\n    /**\n     * Computes a stack trace for an exception.\n     * @param {Error} ex\n     * @param {(string|number)=} depth\n     */\n    function computeStackTrace(ex, depth) {\n        var stack = null;\n        depth = (depth == null ? 0 : +depth);\n\n        try {\n            // This must be tried first because Opera 10 *destroys*\n            // its stacktrace property if you try to access the stack\n            // property first!!\n            stack = computeStackTraceFromStacktraceProp(ex);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (debug) {\n                throw e;\n            }\n        }\n\n        try {\n            stack = computeStackTraceFromStackProp(ex);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (debug) {\n                throw e;\n            }\n        }\n\n        try {\n            stack = computeStackTraceFromOperaMultiLineMessage(ex);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (debug) {\n                throw e;\n            }\n        }\n\n        try {\n            stack = computeStackTraceByWalkingCallerChain(ex, depth + 1);\n            if (stack) {\n                return stack;\n            }\n        } catch (e) {\n            if (debug) {\n                throw e;\n            }\n        }\n\n        return {};\n    }\n\n    computeStackTrace.augmentStackTraceWithInitialElement = augmentStackTraceWithInitialElement;\n    computeStackTrace.computeStackTraceFromStackProp = computeStackTraceFromStackProp;\n    computeStackTrace.guessFunctionName = guessFunctionName;\n    computeStackTrace.gatherContext = gatherContext;\n\n    return computeStackTrace;\n}());\n\n'use strict';\n\n// First, check for JSON support\n// If there is no JSON, we no-op the core features of Raven\n// since JSON is required to encode the payload\nvar _Raven = window.Raven,\n    hasJSON = !!(typeof JSON === 'object' && JSON.stringify),\n    lastCapturedException,\n    lastEventId,\n    globalServer,\n    globalUser,\n    globalKey,\n    globalProject,\n    globalOptions = {\n        logger: 'javascript',\n        ignoreErrors: [],\n        ignoreUrls: [],\n        whitelistUrls: [],\n        includePaths: [],\n        collectWindowErrors: true,\n        tags: {},\n        maxMessageLength: 100,\n        extra: {}\n    },\n    authQueryString,\n    isRavenInstalled = false,\n\n    objectPrototype = Object.prototype,\n    startTime = now();\n\n/*\n * The core Raven singleton\n *\n * @this {Raven}\n */\nvar Raven = {\n    VERSION: '1.1.18',\n\n    debug: true,\n\n    /*\n     * Allow multiple versions of Raven to be installed.\n     * Strip Raven from the global context and returns the instance.\n     *\n     * @return {Raven}\n     */\n    noConflict: function() {\n        window.Raven = _Raven;\n        return Raven;\n    },\n\n    /*\n     * Configure Raven with a DSN and extra options\n     *\n     * @param {string} dsn The public Sentry DSN\n     * @param {object} options Optional set of of global options [optional]\n     * @return {Raven}\n     */\n    config: function(dsn, options) {\n        if (globalServer) {\n            logDebug('error', 'Error: Raven has already been configured');\n            return Raven;\n        }\n        if (!dsn) return Raven;\n\n        var uri = parseDSN(dsn),\n            lastSlash = uri.path.lastIndexOf('/'),\n            path = uri.path.substr(1, lastSlash);\n\n        // merge in options\n        if (options) {\n            each(options, function(key, value){\n                globalOptions[key] = value;\n            });\n        }\n\n        // \"Script error.\" is hard coded into browsers for errors that it can't read.\n        // this is the result of a script being pulled in from an external domain and CORS.\n        globalOptions.ignoreErrors.push(/^Script error\\.?$/);\n        globalOptions.ignoreErrors.push(/^Javascript error: Script error\\.? on line 0$/);\n\n        // join regexp rules into one big rule\n        globalOptions.ignoreErrors = joinRegExp(globalOptions.ignoreErrors);\n        globalOptions.ignoreUrls = globalOptions.ignoreUrls.length ? joinRegExp(globalOptions.ignoreUrls) : false;\n        globalOptions.whitelistUrls = globalOptions.whitelistUrls.length ? joinRegExp(globalOptions.whitelistUrls) : false;\n        globalOptions.includePaths = joinRegExp(globalOptions.includePaths);\n\n        globalKey = uri.user;\n        globalProject = uri.path.substr(lastSlash + 1);\n\n        // assemble the endpoint from the uri pieces\n        globalServer = '//' + uri.host +\n                      (uri.port ? ':' + uri.port : '') +\n                      '/' + path + 'api/' + globalProject + '/store/';\n\n        if (uri.protocol) {\n            globalServer = uri.protocol + ':' + globalServer;\n        }\n\n        if (globalOptions.fetchContext) {\n            TraceKit.remoteFetching = true;\n        }\n\n        if (globalOptions.linesOfContext) {\n            TraceKit.linesOfContext = globalOptions.linesOfContext;\n        }\n\n        TraceKit.collectWindowErrors = !!globalOptions.collectWindowErrors;\n\n        setAuthQueryString();\n\n        // return for chaining\n        return Raven;\n    },\n\n    /*\n     * Installs a global window.onerror error handler\n     * to capture and report uncaught exceptions.\n     * At this point, install() is required to be called due\n     * to the way TraceKit is set up.\n     *\n     * @return {Raven}\n     */\n    install: function() {\n        if (isSetup() && !isRavenInstalled) {\n            TraceKit.report.subscribe(handleStackInfo);\n            isRavenInstalled = true;\n        }\n\n        return Raven;\n    },\n\n    /*\n     * Wrap code within a context so Raven can capture errors\n     * reliably across domains that is executed immediately.\n     *\n     * @param {object} options A specific set of options for this context [optional]\n     * @param {function} func The callback to be immediately executed within the context\n     * @param {array} args An array of arguments to be called with the callback [optional]\n     */\n    context: function(options, func, args) {\n        if (isFunction(options)) {\n            args = func || [];\n            func = options;\n            options = undefined;\n        }\n\n        return Raven.wrap(options, func).apply(this, args);\n    },\n\n    /*\n     * Wrap code within a context and returns back a new function to be executed\n     *\n     * @param {object} options A specific set of options for this context [optional]\n     * @param {function} func The function to be wrapped in a new context\n     * @return {function} The newly wrapped functions with a context\n     */\n    wrap: function(options, func) {\n        // 1 argument has been passed, and it's not a function\n        // so just return it\n        if (isUndefined(func) && !isFunction(options)) {\n            return options;\n        }\n\n        // options is optional\n        if (isFunction(options)) {\n            func = options;\n            options = undefined;\n        }\n\n        // At this point, we've passed along 2 arguments, and the second one\n        // is not a function either, so we'll just return the second argument.\n        if (!isFunction(func)) {\n            return func;\n        }\n\n        // We don't wanna wrap it twice!\n        if (func.__raven__) {\n            return func;\n        }\n\n        function wrapped() {\n            var args = [], i = arguments.length,\n                deep = !options || options && options.deep !== false;\n            // Recursively wrap all of a function's arguments that are\n            // functions themselves.\n\n            while(i--) args[i] = deep ? Raven.wrap(options, arguments[i]) : arguments[i];\n\n            try {\n                /*jshint -W040*/\n                return func.apply(this, args);\n            } catch(e) {\n                Raven.captureException(e, options);\n                throw e;\n            }\n        }\n\n        // copy over properties of the old function\n        for (var property in func) {\n            if (hasKey(func, property)) {\n                wrapped[property] = func[property];\n            }\n        }\n\n        // Signal that this function has been wrapped already\n        // for both debugging and to prevent it to being wrapped twice\n        wrapped.__raven__ = true;\n        wrapped.__inner__ = func;\n\n        return wrapped;\n    },\n\n    /*\n     * Uninstalls the global error handler.\n     *\n     * @return {Raven}\n     */\n    uninstall: function() {\n        TraceKit.report.uninstall();\n        isRavenInstalled = false;\n\n        return Raven;\n    },\n\n    /*\n     * Manually capture an exception and send it over to Sentry\n     *\n     * @param {error} ex An exception to be logged\n     * @param {object} options A specific set of options for this error [optional]\n     * @return {Raven}\n     */\n    captureException: function(ex, options) {\n        // If not an Error is passed through, recall as a message instead\n        if (!isError(ex)) return Raven.captureMessage(ex, options);\n\n        // Store the raw exception object for potential debugging and introspection\n        lastCapturedException = ex;\n\n        // TraceKit.report will re-raise any exception passed to it,\n        // which means you have to wrap it in try/catch. Instead, we\n        // can wrap it here and only re-raise if TraceKit.report\n        // raises an exception different from the one we asked to\n        // report on.\n        try {\n            TraceKit.report(ex, options);\n        } catch(ex1) {\n            if(ex !== ex1) {\n                throw ex1;\n            }\n        }\n\n        return Raven;\n    },\n\n    /*\n     * Manually send a message to Sentry\n     *\n     * @param {string} msg A plain message to be captured in Sentry\n     * @param {object} options A specific set of options for this message [optional]\n     * @return {Raven}\n     */\n    captureMessage: function(msg, options) {\n        // config() automagically converts ignoreErrors from a list to a RegExp so we need to test for an\n        // early call; we'll error on the side of logging anything called before configuration since it's\n        // probably something you should see:\n        if (!!globalOptions.ignoreErrors.test && globalOptions.ignoreErrors.test(msg)) {\n            return;\n        }\n\n        // Fire away!\n        send(\n            objectMerge({\n                message: msg + ''  // Make sure it's actually a string\n            }, options)\n        );\n\n        return Raven;\n    },\n\n    /*\n     * Set/clear a user to be sent along with the payload.\n     *\n     * @param {object} user An object representing user data [optional]\n     * @return {Raven}\n     */\n    setUserContext: function(user) {\n        globalUser = user;\n\n        return Raven;\n    },\n\n    /*\n     * Set extra attributes to be sent along with the payload.\n     *\n     * @param {object} extra An object representing extra data [optional]\n     * @return {Raven}\n     */\n    setExtraContext: function(extra) {\n        globalOptions.extra = extra || {};\n\n        return Raven;\n    },\n\n    /*\n     * Set tags to be sent along with the payload.\n     *\n     * @param {object} tags An object representing tags [optional]\n     * @return {Raven}\n     */\n    setTagsContext: function(tags) {\n        globalOptions.tags = tags || {};\n\n        return Raven;\n    },\n\n    /*\n     * Set release version of application\n     *\n     * @param {string} release Typically something like a git SHA to identify version\n     * @return {Raven}\n     */\n    setReleaseContext: function(release) {\n        globalOptions.release = release;\n\n        return Raven;\n    },\n\n    /*\n     * Get the latest raw exception that was captured by Raven.\n     *\n     * @return {error}\n     */\n    lastException: function() {\n        return lastCapturedException;\n    },\n\n    /*\n     * Get the last event id\n     *\n     * @return {string}\n     */\n    lastEventId: function() {\n        return lastEventId;\n    },\n\n    /*\n     * Determine if Raven is setup and ready to go.\n     *\n     * @return {boolean}\n     */\n    isSetup: function() {\n        return isSetup();\n    }\n};\n\nRaven.setUser = Raven.setUserContext; // To be deprecated\n\nfunction triggerEvent(eventType, options) {\n    var event, key;\n\n    options = options || {};\n\n    eventType = 'raven' + eventType.substr(0,1).toUpperCase() + eventType.substr(1);\n\n    if (document.createEvent) {\n        event = document.createEvent('HTMLEvents');\n        event.initEvent(eventType, true, true);\n    } else {\n        event = document.createEventObject();\n        event.eventType = eventType;\n    }\n\n    for (key in options) if (hasKey(options, key)) {\n        event[key] = options[key];\n    }\n\n    if (document.createEvent) {\n        // IE9 if standards\n        document.dispatchEvent(event);\n    } else {\n        // IE8 regardless of Quirks or Standards\n        // IE9 if quirks\n        try {\n            document.fireEvent('on' + event.eventType.toLowerCase(), event);\n        } catch(e) {}\n    }\n}\n\nvar dsnKeys = 'source protocol user pass host port path'.split(' '),\n    dsnPattern = /^(?:(\\w+):)?\\/\\/(\\w+)(:\\w+)?@([\\w\\.-]+)(?::(\\d+))?(\\/.*)/;\n\nfunction RavenConfigError(message) {\n    this.name = 'RavenConfigError';\n    this.message = message;\n}\nRavenConfigError.prototype = new Error();\nRavenConfigError.prototype.constructor = RavenConfigError;\n\n/**** Private functions ****/\nfunction parseDSN(str) {\n    var m = dsnPattern.exec(str),\n        dsn = {},\n        i = 7;\n\n    try {\n        while (i--) dsn[dsnKeys[i]] = m[i] || '';\n    } catch(e) {\n        throw new RavenConfigError('Invalid DSN: ' + str);\n    }\n\n    if (dsn.pass)\n        throw new RavenConfigError('Do not specify your private key in the DSN!');\n\n    return dsn;\n}\n\nfunction isUndefined(what) {\n    return typeof what === 'undefined';\n}\n\nfunction isFunction(what) {\n    return typeof what === 'function';\n}\n\nfunction isString(what) {\n    return typeof what === 'string';\n}\n\nfunction isObject(what) {\n    return typeof what === 'object' && what !== null;\n}\n\nfunction isEmptyObject(what) {\n    for (var k in what) return false;\n    return true;\n}\n\n// Sorta yanked from https://github.com/joyent/node/blob/aa3b4b4/lib/util.js#L560\n// with some tiny modifications\nfunction isError(what) {\n    return isObject(what) &&\n        objectPrototype.toString.call(what) === '[object Error]' ||\n        what instanceof Error;\n}\n\n/**\n * hasKey, a better form of hasOwnProperty\n * Example: hasKey(MainHostObject, property) === true/false\n *\n * @param {Object} host object to check property\n * @param {string} key to check\n */\nfunction hasKey(object, key) {\n    return objectPrototype.hasOwnProperty.call(object, key);\n}\n\nfunction each(obj, callback) {\n    var i, j;\n\n    if (isUndefined(obj.length)) {\n        for (i in obj) {\n            if (hasKey(obj, i)) {\n                callback.call(null, i, obj[i]);\n            }\n        }\n    } else {\n        j = obj.length;\n        if (j) {\n            for (i = 0; i < j; i++) {\n                callback.call(null, i, obj[i]);\n            }\n        }\n    }\n}\n\n\nfunction setAuthQueryString() {\n    authQueryString =\n        '?sentry_version=4' +\n        '&sentry_client=raven-js/' + Raven.VERSION +\n        '&sentry_key=' + globalKey;\n}\n\n\nfunction handleStackInfo(stackInfo, options) {\n    var frames = [];\n\n    if (stackInfo.stack && stackInfo.stack.length) {\n        each(stackInfo.stack, function(i, stack) {\n            var frame = normalizeFrame(stack);\n            if (frame) {\n                frames.push(frame);\n            }\n        });\n    }\n\n    triggerEvent('handle', {\n        stackInfo: stackInfo,\n        options: options\n    });\n\n    processException(\n        stackInfo.name,\n        stackInfo.message,\n        stackInfo.url,\n        stackInfo.lineno,\n        frames,\n        options\n    );\n}\n\nfunction normalizeFrame(frame) {\n    if (!frame.url) return;\n\n    // normalize the frames data\n    var normalized = {\n        filename:   frame.url,\n        lineno:     frame.line,\n        colno:      frame.column,\n        'function': frame.func || '?'\n    }, context = extractContextFromFrame(frame), i;\n\n    if (context) {\n        var keys = ['pre_context', 'context_line', 'post_context'];\n        i = 3;\n        while (i--) normalized[keys[i]] = context[i];\n    }\n\n    normalized.in_app = !( // determine if an exception came from outside of our app\n        // first we check the global includePaths list.\n        !globalOptions.includePaths.test(normalized.filename) ||\n        // Now we check for fun, if the function name is Raven or TraceKit\n        /(Raven|TraceKit)\\./.test(normalized['function']) ||\n        // finally, we do a last ditch effort and check for raven.min.js\n        /raven\\.(min\\.)?js$/.test(normalized.filename)\n    );\n\n    return normalized;\n}\n\nfunction extractContextFromFrame(frame) {\n    // immediately check if we should even attempt to parse a context\n    if (!frame.context || !globalOptions.fetchContext) return;\n\n    var context = frame.context,\n        pivot = ~~(context.length / 2),\n        i = context.length, isMinified = false;\n\n    while (i--) {\n        // We're making a guess to see if the source is minified or not.\n        // To do that, we make the assumption if *any* of the lines passed\n        // in are greater than 300 characters long, we bail.\n        // Sentry will see that there isn't a context\n        if (context[i].length > 300) {\n            isMinified = true;\n            break;\n        }\n    }\n\n    if (isMinified) {\n        // The source is minified and we don't know which column. Fuck it.\n        if (isUndefined(frame.column)) return;\n\n        // If the source is minified and has a frame column\n        // we take a chunk of the offending line to hopefully shed some light\n        return [\n            [],  // no pre_context\n            context[pivot].substr(frame.column, 50), // grab 50 characters, starting at the offending column\n            []   // no post_context\n        ];\n    }\n\n    return [\n        context.slice(0, pivot),    // pre_context\n        context[pivot],             // context_line\n        context.slice(pivot + 1)    // post_context\n    ];\n}\n\nfunction processException(type, message, fileurl, lineno, frames, options) {\n    var stacktrace, label, i;\n\n    // In some instances message is not actually a string, no idea why,\n    // so we want to always coerce it to one.\n    message += '';\n\n    // Sometimes an exception is getting logged in Sentry as\n    // <no message value>\n    // This can only mean that the message was falsey since this value\n    // is hardcoded into Sentry itself.\n    // At this point, if the message is falsey, we bail since it's useless\n    if (type === 'Error' && !message) return;\n\n    if (globalOptions.ignoreErrors.test(message)) return;\n\n    if (frames && frames.length) {\n        fileurl = frames[0].filename || fileurl;\n        // Sentry expects frames oldest to newest\n        // and JS sends them as newest to oldest\n        frames.reverse();\n        stacktrace = {frames: frames};\n    } else if (fileurl) {\n        stacktrace = {\n            frames: [{\n                filename: fileurl,\n                lineno: lineno,\n                in_app: true\n            }]\n        };\n    }\n\n    // Truncate the message to a max of characters\n    message = truncate(message, globalOptions.maxMessageLength);\n\n    if (globalOptions.ignoreUrls && globalOptions.ignoreUrls.test(fileurl)) return;\n    if (globalOptions.whitelistUrls && !globalOptions.whitelistUrls.test(fileurl)) return;\n\n    label = lineno ? message + ' at ' + lineno : message;\n\n    // Fire away!\n    send(\n        objectMerge({\n            // sentry.interfaces.Exception\n            exception: {\n                type: type,\n                value: message\n            },\n            // sentry.interfaces.Stacktrace\n            stacktrace: stacktrace,\n            culprit: fileurl,\n            message: label\n        }, options)\n    );\n}\n\nfunction objectMerge(obj1, obj2) {\n    if (!obj2) {\n        return obj1;\n    }\n    each(obj2, function(key, value){\n        obj1[key] = value;\n    });\n    return obj1;\n}\n\nfunction truncate(str, max) {\n    return str.length <= max ? str : str.substr(0, max) + '\\u2026';\n}\n\nfunction now() {\n    return +new Date();\n}\n\nfunction getHttpData() {\n    var http = {\n        url: document.location.href,\n        headers: {\n            'User-Agent': navigator.userAgent\n        }\n    };\n\n    if (document.referrer) {\n        http.headers.Referer = document.referrer;\n    }\n\n    return http;\n}\n\nfunction send(data) {\n    if (!isSetup()) return;\n\n    data = objectMerge({\n        project: globalProject,\n        logger: globalOptions.logger,\n        platform: 'javascript',\n        // sentry.interfaces.Http\n        request: getHttpData()\n    }, data);\n\n    // Merge in the tags and extra separately since objectMerge doesn't handle a deep merge\n    data.tags = objectMerge(objectMerge({}, globalOptions.tags), data.tags);\n    data.extra = objectMerge(objectMerge({}, globalOptions.extra), data.extra);\n\n    // Send along our own collected metadata with extra\n    data.extra = objectMerge({\n        'session:duration': now() - startTime\n    }, data.extra);\n\n    // If there are no tags/extra, strip the key from the payload alltogther.\n    if (isEmptyObject(data.tags)) delete data.tags;\n\n    if (globalUser) {\n        // sentry.interfaces.User\n        data.user = globalUser;\n    }\n\n    // Include the release iff it's defined in globalOptions\n    if (globalOptions.release) data.release = globalOptions.release;\n\n    if (isFunction(globalOptions.dataCallback)) {\n        data = globalOptions.dataCallback(data);\n    }\n\n    // Check if the request should be filtered or not\n    if (isFunction(globalOptions.shouldSendCallback) && !globalOptions.shouldSendCallback(data)) {\n        return;\n    }\n\n    // Send along an event_id if not explicitly passed.\n    // This event_id can be used to reference the error within Sentry itself.\n    // Set lastEventId after we know the error should actually be sent\n    lastEventId = data.event_id || (data.event_id = uuid4());\n\n    makeRequest(data);\n}\n\n\nfunction makeRequest(data) {\n    var img = new Image(),\n        src = globalServer + authQueryString + '&sentry_data=' + encodeURIComponent(JSON.stringify(data));\n\n    img.crossOrigin = 'anonymous';\n    img.onload = function success() {\n        triggerEvent('success', {\n            data: data,\n            src: src\n        });\n    };\n    img.onerror = img.onabort = function failure() {\n        triggerEvent('failure', {\n            data: data,\n            src: src\n        });\n    };\n    img.src = src;\n}\n\nfunction isSetup() {\n    if (!hasJSON) return false;  // needs JSON support\n    if (!globalServer) {\n        logDebug('error', 'Error: Raven has not been configured.');\n        return false;\n    }\n    return true;\n}\n\nfunction joinRegExp(patterns) {\n    // Combine an array of regular expressions and strings into one large regexp\n    // Be mad.\n    var sources = [],\n        i = 0, len = patterns.length,\n        pattern;\n\n    for (; i < len; i++) {\n        pattern = patterns[i];\n        if (isString(pattern)) {\n            // If it's a string, we need to escape it\n            // Taken from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\n            sources.push(pattern.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\"));\n        } else if (pattern && pattern.source) {\n            // If it's a regexp already, we want to extract the source\n            sources.push(pattern.source);\n        }\n        // Intentionally skip other cases\n    }\n    return new RegExp(sources.join('|'), 'i');\n}\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\nfunction uuid4() {\n    return 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n        var r = Math.random()*16|0,\n            v = c == 'x' ? r : (r&0x3|0x8);\n        return v.toString(16);\n    });\n}\n\nfunction logDebug(level, message) {\n    if (window.console && console[level] && Raven.debug) {\n        console[level](message);\n    }\n}\n\nfunction afterLoad() {\n    // Attempt to initialize Raven on load\n    var RavenConfig = window.RavenConfig;\n    if (RavenConfig) {\n        Raven.config(RavenConfig.dsn, RavenConfig.config).install();\n    }\n}\nafterLoad();\n\n// Expose Raven to the world\nif (typeof define === 'function' && define.amd) {\n    // AMD\n    window.Raven = Raven;\n    define('raven', [], function() {\n      return Raven;\n    });\n} else if (typeof module === 'object') {\n    // browserify\n    module.exports = Raven;\n} else if (typeof exports === 'object') {\n    // CommonJS\n    exports = Raven;\n} else {\n    // Everything else\n    window.Raven = Raven;\n}\n\n})(window);\n\n","define('modules/monitor',[\n    'raven'\n], function (\n    Raven\n) {\n\n\tvar config = {\n\t\tdsn: null,\n\t\tgit_commit: 'not available'\n\t};\t\t\n\t\n\ttry {\n\t\tconfig = {\n\t\t\tdsn: GRUNT_SENTRY_DSN,\n\t\t\tgit_commit: GRUNT_LAST_GIT_COMMIT\n\t\t};   \n\t} catch(e) {}\n\n\tvar modules = {\n\t\textractTags: function() {\n\t\t\tvar bodyClass = document.body.getAttribute('class');\n\t\t\tvar itemTone = bodyClass.match(/tone--([^\\s]+)/); \n\n\t\t\treturn {\n\t\t\t\titemTone: itemTone ? itemTone[1] : null,\n\t\t\t\titemId: document.body.getAttribute('data-page-id'),\n\t\t\t\tdeviceKind: document.body.getAttribute('data-ads-config'),\n\t\t\t\tads: document.body.getAttribute('data-ads-enabled') === 'true',\n\t\t\t};\n\t\t},\n\t\tignoreErrors: function() {\n\t\t\tvar ignoreArray = ['fake'];\n\t\t\tignoreArray.push = function(){};\n\t\t\treturn ignoreArray;\n\t\t},\n\t\tsetContext: function(context, fn){\n\t\t\tif(config.dsn){\n\t\t\t\treturn Raven.context({ tags: { context: context }}, fn);\n\t\t\t}\n\t\t\treturn fn();\n\t\t}\n\t};\n\n\tvar init = function(){\n\t\tvar tags = modules.extractTags();\n\t\tif(!Raven.isSetup() && config.dsn){\n\t\t\tRaven.config(config.dsn, { \n\t\t\t\ttags: tags,\n\t\t\t\trelease: config.git_commit,\n\t\t\t\tignoreErrors: modules.ignoreErrors(),\n\t\t\t\tshouldSendCallback: function(data) {\n\t\t\t\t\tif(data.stacktrace && data.stacktrace.frames){\n\t\t\t\t\t\tdata.stacktrace.frames = data.stacktrace.frames.reverse().slice(0,3).reverse();\n\t\t\t\t\t}\n\t\t\t\t\tvar sampleRate = 35;\n\t\t\t\t\treturn (Math.random() * 100 <= sampleRate);\n\t\t\t\t}\t\t\t\t\n\t\t\t}).install();\n\t\t}\n\t};\n\n    return {\n    \tinit: init,\n    \tsetContext: modules.setContext,\n    \tmodules: modules,\n    \tconfig: config,\n        raven: Raven\n    };\n});\n\n","/*!\n  * Bonzo: DOM Utility (c) Dustin Diaz 2012\n  * https://github.com/ded/bonzo\n  * License MIT\n  */\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define('bonzo',definition)\n  else context[name] = definition()\n})('bonzo', this, function() {\n  var win = window\n    , doc = win.document\n    , html = doc.documentElement\n    , parentNode = 'parentNode'\n    , specialAttributes = /^(checked|value|selected|disabled)$/i\n      // tags that we have trouble inserting *into*\n    , specialTags = /^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i\n    , simpleScriptTagRe = /\\s*<script +src=['\"]([^'\"]+)['\"]>/\n    , table = ['<table>', '</table>', 1]\n    , td = ['<table><tbody><tr>', '</tr></tbody></table>', 3]\n    , option = ['<select>', '</select>', 1]\n    , noscope = ['_', '', 0, 1]\n    , tagMap = { // tags that we have trouble *inserting*\n          thead: table, tbody: table, tfoot: table, colgroup: table, caption: table\n        , tr: ['<table><tbody>', '</tbody></table>', 2]\n        , th: td , td: td\n        , col: ['<table><colgroup>', '</colgroup></table>', 2]\n        , fieldset: ['<form>', '</form>', 1]\n        , legend: ['<form><fieldset>', '</fieldset></form>', 2]\n        , option: option, optgroup: option\n        , script: noscope, style: noscope, link: noscope, param: noscope, base: noscope\n      }\n    , stateAttributes = /^(checked|selected|disabled)$/\n    , hasClass, addClass, removeClass\n    , uidMap = {}\n    , uuids = 0\n    , digit = /^-?[\\d\\.]+$/\n    , dattr = /^data-(.+)$/\n    , px = 'px'\n    , setAttribute = 'setAttribute'\n    , getAttribute = 'getAttribute'\n    , features = function() {\n        var e = doc.createElement('p')\n        return {\n          transform: function () {\n            var props = ['transform', 'webkitTransform', 'MozTransform', 'OTransform', 'msTransform'], i\n            for (i = 0; i < props.length; i++) {\n              if (props[i] in e.style) return props[i]\n            }\n          }()\n        , classList: 'classList' in e\n        }\n      }()\n    , whitespaceRegex = /\\s+/\n    , toString = String.prototype.toString\n    , unitless = { lineHeight: 1, zoom: 1, zIndex: 1, opacity: 1, boxFlex: 1, WebkitBoxFlex: 1, MozBoxFlex: 1 }\n    , query = doc.querySelectorAll && function (selector) { return doc.querySelectorAll(selector) }\n\n\n  function getStyle(el, property) {\n    var value = null\n      , computed = doc.defaultView.getComputedStyle(el, '')\n    computed && (value = computed[property])\n    return el.style[property] || value\n  }\n\n\n  function isNode(node) {\n    return node && node.nodeName && (node.nodeType == 1 || node.nodeType == 11)\n  }\n\n\n  function normalize(node, host, clone) {\n    var i, l, ret\n    if (typeof node == 'string') return bonzo.create(node)\n    if (isNode(node)) node = [ node ]\n    if (clone) {\n      ret = [] // don't change original array\n      for (i = 0, l = node.length; i < l; i++) ret[i] = cloneNode(host, node[i])\n      return ret\n    }\n    return node\n  }\n\n  /**\n   * @param {string} c a class name to test\n   * @return {boolean}\n   */\n  function classReg(c) {\n    return new RegExp('(^|\\\\s+)' + c + '(\\\\s+|$)')\n  }\n\n\n  /**\n   * @param {Bonzo|Array} ar\n   * @param {function(Object, number, (Bonzo|Array))} fn\n   * @param {Object=} opt_scope\n   * @param {boolean=} opt_rev\n   * @return {Bonzo|Array}\n   */\n  function each(ar, fn, opt_scope, opt_rev) {\n    var ind, i = 0, l = ar.length\n    for (; i < l; i++) {\n      ind = opt_rev ? ar.length - i - 1 : i\n      fn.call(opt_scope || ar[ind], ar[ind], ind, ar)\n    }\n    return ar\n  }\n\n\n  /**\n   * @param {Bonzo|Array} ar\n   * @param {function(Object, number, (Bonzo|Array))} fn\n   * @param {Object=} opt_scope\n   * @return {Bonzo|Array}\n   */\n  function deepEach(ar, fn, opt_scope) {\n    for (var i = 0, l = ar.length; i < l; i++) {\n      if (isNode(ar[i])) {\n        deepEach(ar[i].childNodes, fn, opt_scope)\n        fn.call(opt_scope || ar[i], ar[i], i, ar)\n      }\n    }\n    return ar\n  }\n\n\n  /**\n   * @param {string} s\n   * @return {string}\n   */\n  function camelize(s) {\n    return s.replace(/-(.)/g, function (m, m1) {\n      return m1.toUpperCase()\n    })\n  }\n\n\n  /**\n   * @param {string} s\n   * @return {string}\n   */\n  function decamelize(s) {\n    return s ? s.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase() : s\n  }\n\n\n  /**\n   * @param {Element} el\n   * @return {*}\n   */\n  function data(el) {\n    el[getAttribute]('data-node-uid') || el[setAttribute]('data-node-uid', ++uuids)\n    var uid = el[getAttribute]('data-node-uid')\n    return uidMap[uid] || (uidMap[uid] = {})\n  }\n\n\n  /**\n   * removes the data associated with an element\n   * @param {Element} el\n   */\n  function clearData(el) {\n    var uid = el[getAttribute]('data-node-uid')\n    if (uid) delete uidMap[uid]\n  }\n\n\n  function dataValue(d) {\n    var f\n    try {\n      return (d === null || d === undefined) ? undefined :\n        d === 'true' ? true :\n          d === 'false' ? false :\n            d === 'null' ? null :\n              (f = parseFloat(d)) == d ? f : d;\n    } catch(e) {}\n    return undefined\n  }\n\n\n  /**\n   * @param {Bonzo|Array} ar\n   * @param {function(Object, number, (Bonzo|Array))} fn\n   * @param {Object=} opt_scope\n   * @return {boolean} whether `some`thing was found\n   */\n  function some(ar, fn, opt_scope) {\n    for (var i = 0, j = ar.length; i < j; ++i) if (fn.call(opt_scope || null, ar[i], i, ar)) return true\n    return false\n  }\n\n\n  /**\n   * this could be a giant enum of CSS properties\n   * but in favor of file size sans-closure deadcode optimizations\n   * we're just asking for any ol string\n   * then it gets transformed into the appropriate style property for JS access\n   * @param {string} p\n   * @return {string}\n   */\n  function styleProperty(p) {\n      (p == 'transform' && (p = features.transform)) ||\n        (/^transform-?[Oo]rigin$/.test(p) && (p = features.transform + 'Origin'))\n      return p ? camelize(p) : null\n  }\n\n  // this insert method is intense\n  function insert(target, host, fn, rev) {\n    var i = 0, self = host || this, r = []\n      // target nodes could be a css selector if it's a string and a selector engine is present\n      // otherwise, just use target\n      , nodes = query && typeof target == 'string' && target.charAt(0) != '<' ? query(target) : target\n    // normalize each node in case it's still a string and we need to create nodes on the fly\n    each(normalize(nodes), function (t, j) {\n      each(self, function (el) {\n        fn(t, r[i++] = j > 0 ? cloneNode(self, el) : el)\n      }, null, rev)\n    }, this, rev)\n    self.length = i\n    each(r, function (e) {\n      self[--i] = e\n    }, null, !rev)\n    return self\n  }\n\n\n  /**\n   * sets an element to an explicit x/y position on the page\n   * @param {Element} el\n   * @param {?number} x\n   * @param {?number} y\n   */\n  function xy(el, x, y) {\n    var $el = bonzo(el)\n      , style = $el.css('position')\n      , offset = $el.offset()\n      , rel = 'relative'\n      , isRel = style == rel\n      , delta = [parseInt($el.css('left'), 10), parseInt($el.css('top'), 10)]\n\n    if (style == 'static') {\n      $el.css('position', rel)\n      style = rel\n    }\n\n    isNaN(delta[0]) && (delta[0] = isRel ? 0 : el.offsetLeft)\n    isNaN(delta[1]) && (delta[1] = isRel ? 0 : el.offsetTop)\n\n    x != null && (el.style.left = x - offset.left + delta[0] + px)\n    y != null && (el.style.top = y - offset.top + delta[1] + px)\n\n  }\n\n  // classList support for class management\n  // altho to be fair, the api sucks because it won't accept multiple classes at once\n  if (features.classList) {\n    hasClass = function (el, c) {\n      return el.classList.contains(c)\n    }\n    addClass = function (el, c) {\n      el.classList.add(c)\n    }\n    removeClass = function (el, c) {\n      el.classList.remove(c)\n    }\n  }\n  else {\n    hasClass = function (el, c) {\n      return classReg(c).test(el.className)\n    }\n    addClass = function (el, c) {\n      el.className = (el.className + ' ' + c).trim()\n    }\n    removeClass = function (el, c) {\n      el.className = (el.className.replace(classReg(c), ' ')).trim()\n    }\n  }\n\n\n  /**\n   * this allows method calling for setting values\n   *\n   * @example\n   * bonzo(elements).css('color', function (el) {\n   *   return el.getAttribute('data-original-color')\n   * })\n   *\n   * @param {Element} el\n   * @param {function (Element)|string} v\n   * @return {string}\n   */\n  function setter(el, v) {\n    return typeof v == 'function' ? v.call(el, el) : v\n  }\n\n  function scroll(x, y, type) {\n    var el = this[0]\n    if (!el) return this\n    if (x == null && y == null) {\n      return (isBody(el) ? getWindowScroll() : { x: el.scrollLeft, y: el.scrollTop })[type]\n    }\n    if (isBody(el)) {\n      win.scrollTo(x, y)\n    } else {\n      x != null && (el.scrollLeft = x)\n      y != null && (el.scrollTop = y)\n    }\n    return this\n  }\n\n  /**\n   * @constructor\n   * @param {Array.<Element>|Element|Node|string} elements\n   */\n  function Bonzo(elements) {\n    this.length = 0\n    if (elements) {\n      elements = typeof elements !== 'string' &&\n        !elements.nodeType &&\n        typeof elements.length !== 'undefined' ?\n          elements :\n          [elements]\n      this.length = elements.length\n      for (var i = 0; i < elements.length; i++) this[i] = elements[i]\n    }\n  }\n\n  Bonzo.prototype = {\n\n      /**\n       * @param {number} index\n       * @return {Element|Node}\n       */\n      get: function (index) {\n        return this[index] || null\n      }\n\n      // itetators\n      /**\n       * @param {function(Element|Node)} fn\n       * @param {Object=} opt_scope\n       * @return {Bonzo}\n       */\n    , each: function (fn, opt_scope) {\n        return each(this, fn, opt_scope)\n      }\n\n      /**\n       * @param {Function} fn\n       * @param {Object=} opt_scope\n       * @return {Bonzo}\n       */\n    , deepEach: function (fn, opt_scope) {\n        return deepEach(this, fn, opt_scope)\n      }\n\n\n      /**\n       * @param {Function} fn\n       * @param {Function=} opt_reject\n       * @return {Array}\n       */\n    , map: function (fn, opt_reject) {\n        var m = [], n, i\n        for (i = 0; i < this.length; i++) {\n          n = fn.call(this, this[i], i)\n          opt_reject ? (opt_reject(n) && m.push(n)) : m.push(n)\n        }\n        return m\n      }\n\n    // text and html inserters!\n\n    /**\n     * @param {string} h the HTML to insert\n     * @param {boolean=} opt_text whether to set or get text content\n     * @return {Bonzo|string}\n     */\n    , html: function (h, opt_text) {\n        var method = opt_text\n              ? 'textContent'\n              : 'innerHTML'\n          , that = this\n          , append = function (el, i) {\n              each(normalize(h, that, i), function (node) {\n                el.appendChild(node)\n              })\n            }\n          , updateElement = function (el, i) {\n              try {\n                if (opt_text || (typeof h == 'string' && !specialTags.test(el.tagName))) {\n                  return el[method] = h\n                }\n              } catch (e) {}\n              append(el, i)\n            }\n        return typeof h != 'undefined'\n          ? this.empty().each(updateElement)\n          : this[0] ? this[0][method] : ''\n      }\n\n      /**\n       * @param {string=} opt_text the text to set, otherwise this is a getter\n       * @return {Bonzo|string}\n       */\n    , text: function (opt_text) {\n        return this.html(opt_text, true)\n      }\n\n      // more related insertion methods\n\n      /**\n       * @param {Bonzo|string|Element|Array} node\n       * @return {Bonzo}\n       */\n    , append: function (node) {\n        var that = this\n        return this.each(function (el, i) {\n          each(normalize(node, that, i), function (i) {\n            el.appendChild(i)\n          })\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} node\n       * @return {Bonzo}\n       */\n    , prepend: function (node) {\n        var that = this\n        return this.each(function (el, i) {\n          var first = el.firstChild\n          each(normalize(node, that, i), function (i) {\n            el.insertBefore(i, first)\n          })\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , appendTo: function (target, opt_host) {\n        return insert.call(this, target, opt_host, function (t, el) {\n          t.appendChild(el)\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , prependTo: function (target, opt_host) {\n        return insert.call(this, target, opt_host, function (t, el) {\n          t.insertBefore(el, t.firstChild)\n        }, 1)\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} node\n       * @return {Bonzo}\n       */\n    , before: function (node) {\n        var that = this\n        return this.each(function (el, i) {\n          each(normalize(node, that, i), function (i) {\n            el[parentNode].insertBefore(i, el)\n          })\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} node\n       * @return {Bonzo}\n       */\n    , after: function (node) {\n        var that = this\n        return this.each(function (el, i) {\n          each(normalize(node, that, i), function (i) {\n            el[parentNode].insertBefore(i, el.nextSibling)\n          }, null, 1)\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , insertBefore: function (target, opt_host) {\n        return insert.call(this, target, opt_host, function (t, el) {\n          t[parentNode].insertBefore(el, t)\n        })\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} target the location for which you'll insert your new content\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , insertAfter: function (target, opt_host) {\n        return insert.call(this, target, opt_host, function (t, el) {\n          var sibling = t.nextSibling\n          sibling ?\n            t[parentNode].insertBefore(el, sibling) :\n            t[parentNode].appendChild(el)\n        }, 1)\n      }\n\n\n      /**\n       * @param {Bonzo|string|Element|Array} node\n       * @return {Bonzo}\n       */\n    , replaceWith: function (node) {\n        var that = this\n        return this.each(function (el, i) {\n          each(normalize(node, that, i), function (i) {\n            el[parentNode] && el[parentNode].replaceChild(i, el)\n          })\n        })\n      }\n\n      /**\n       * @param {Object=} opt_host an optional host scope (primarily used when integrated with Ender)\n       * @return {Bonzo}\n       */\n    , clone: function (opt_host) {\n        var ret = [] // don't change original array\n          , l, i\n        for (i = 0, l = this.length; i < l; i++) ret[i] = cloneNode(opt_host || this, this[i])\n        return bonzo(ret)\n      }\n\n      // class management\n\n      /**\n       * @param {string} c\n       * @return {Bonzo}\n       */\n    , addClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          // we `each` here so you can do $el.addClass('foo bar')\n          each(c, function (c) {\n            if (c && !hasClass(el, setter(el, c)))\n              addClass(el, setter(el, c))\n          })\n        })\n      }\n\n\n      /**\n       * @param {string} c\n       * @return {Bonzo}\n       */\n    , removeClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          each(c, function (c) {\n            if (c && hasClass(el, setter(el, c)))\n              removeClass(el, setter(el, c))\n          })\n        })\n      }\n\n\n      /**\n       * @param {string} c\n       * @return {boolean}\n       */\n    , hasClass: function (c) {\n        c = toString.call(c).split(whitespaceRegex)\n        return some(this, function (el) {\n          return some(c, function (c) {\n            return c && hasClass(el, c)\n          })\n        })\n      }\n\n\n      /**\n       * @param {string} c classname to toggle\n       * @param {boolean=} opt_condition whether to add or remove the class straight away\n       * @return {Bonzo}\n       */\n    , toggleClass: function (c, opt_condition) {\n        c = toString.call(c).split(whitespaceRegex)\n        return this.each(function (el) {\n          each(c, function (c) {\n            if (c) {\n              typeof opt_condition !== 'undefined' ?\n                opt_condition ? !hasClass(el, c) && addClass(el, c) : removeClass(el, c) :\n                hasClass(el, c) ? removeClass(el, c) : addClass(el, c)\n            }\n          })\n        })\n      }\n\n      // display togglers\n\n      /**\n       * @param {string=} opt_type useful to set back to anything other than an empty string\n       * @return {Bonzo}\n       */\n    , show: function (opt_type) {\n        opt_type = typeof opt_type == 'string' ? opt_type : ''\n        return this.each(function (el) {\n          el.style.display = opt_type\n        })\n      }\n\n\n      /**\n       * @return {Bonzo}\n       */\n    , hide: function () {\n        return this.each(function (el) {\n          el.style.display = 'none'\n        })\n      }\n\n\n      /**\n       * @param {Function=} opt_callback\n       * @param {string=} opt_type\n       * @return {Bonzo}\n       */\n    , toggle: function (opt_callback, opt_type) {\n        opt_type = typeof opt_type == 'string' ? opt_type : '';\n        typeof opt_callback != 'function' && (opt_callback = null)\n        return this.each(function (el) {\n          el.style.display = (el.offsetWidth || el.offsetHeight) ? 'none' : opt_type;\n          opt_callback && opt_callback.call(el)\n        })\n      }\n\n\n      // DOM Walkers & getters\n\n      /**\n       * @return {Element|Node}\n       */\n    , first: function () {\n        return bonzo(this.length ? this[0] : [])\n      }\n\n\n      /**\n       * @return {Element|Node}\n       */\n    , last: function () {\n        return bonzo(this.length ? this[this.length - 1] : [])\n      }\n\n\n      /**\n       * @return {Element|Node}\n       */\n    , next: function () {\n        return this.related('nextSibling')\n      }\n\n\n      /**\n       * @return {Element|Node}\n       */\n    , previous: function () {\n        return this.related('previousSibling')\n      }\n\n\n      /**\n       * @return {Element|Node}\n       */\n    , parent: function() {\n        return this.related(parentNode)\n      }\n\n\n      /**\n       * @private\n       * @param {string} method the directional DOM method\n       * @return {Element|Node}\n       */\n    , related: function (method) {\n        return bonzo(this.map(\n          function (el) {\n            el = el[method]\n            while (el && el.nodeType !== 1) {\n              el = el[method]\n            }\n            return el || 0\n          },\n          function (el) {\n            return el\n          }\n        ))\n      }\n\n\n      /**\n       * @return {Bonzo}\n       */\n    , focus: function () {\n        this.length && this[0].focus()\n        return this\n      }\n\n\n      /**\n       * @return {Bonzo}\n       */\n    , blur: function () {\n        this.length && this[0].blur()\n        return this\n      }\n\n      // style getter setter & related methods\n\n      /**\n       * @param {Object|string} o\n       * @param {string=} opt_v\n       * @return {Bonzo|string}\n       */\n    , css: function (o, opt_v) {\n        var p, iter = o\n        // is this a request for just getting a style?\n        if (opt_v === undefined && typeof o == 'string') {\n          // repurpose 'v'\n          opt_v = this[0]\n          if (!opt_v) return null\n          if (opt_v === doc || opt_v === win) {\n            p = (opt_v === doc) ? bonzo.doc() : bonzo.viewport()\n            return o == 'width' ? p.width : o == 'height' ? p.height : ''\n          }\n          return (o = styleProperty(o)) ? getStyle(opt_v, o) : null\n        }\n\n        if (typeof o == 'string') {\n          iter = {}\n          iter[o] = opt_v\n        }\n\n        function fn(el, p, v) {\n          for (var k in iter) {\n            if (iter.hasOwnProperty(k)) {\n              v = iter[k];\n              // change \"5\" to \"5px\" - unless you're line-height, which is allowed\n              (p = styleProperty(k)) && digit.test(v) && !(p in unitless) && (v += px)\n              try { el.style[p] = setter(el, v) } catch(e) {}\n            }\n          }\n        }\n        return this.each(fn)\n      }\n\n\n      /**\n       * @param {number=} opt_x\n       * @param {number=} opt_y\n       * @return {Bonzo|number}\n       */\n    , offset: function (opt_x, opt_y) {\n        if (opt_x && typeof opt_x == 'object' && (typeof opt_x.top == 'number' || typeof opt_x.left == 'number')) {\n          return this.each(function (el) {\n            xy(el, opt_x.left, opt_x.top)\n          })\n        } else if (typeof opt_x == 'number' || typeof opt_y == 'number') {\n          return this.each(function (el) {\n            xy(el, opt_x, opt_y)\n          })\n        }\n        if (!this[0]) return {\n            top: 0\n          , left: 0\n          , height: 0\n          , width: 0\n        }\n        var el = this[0]\n          , de = el.ownerDocument.documentElement\n          , bcr = el.getBoundingClientRect()\n          , scroll = getWindowScroll()\n          , width = el.offsetWidth\n          , height = el.offsetHeight\n          , top = bcr.top + scroll.y - Math.max(0, de && de.clientTop, doc.body.clientTop)\n          , left = bcr.left + scroll.x - Math.max(0, de && de.clientLeft, doc.body.clientLeft)\n\n        return {\n            top: top\n          , left: left\n          , height: height\n          , width: width\n        }\n      }\n\n\n      /**\n       * @return {number}\n       */\n    , dim: function () {\n        if (!this.length) return { height: 0, width: 0 }\n        var el = this[0]\n          , de = el.nodeType == 9 && el.documentElement // document\n          , orig = !de && !!el.style && !el.offsetWidth && !el.offsetHeight ?\n             // el isn't visible, can't be measured properly, so fix that\n             function (t) {\n               var s = {\n                   position: el.style.position || ''\n                 , visibility: el.style.visibility || ''\n                 , display: el.style.display || ''\n               }\n               t.first().css({\n                   position: 'absolute'\n                 , visibility: 'hidden'\n                 , display: 'block'\n               })\n               return s\n            }(this) : null\n          , width = de\n              ? Math.max(el.body.scrollWidth, el.body.offsetWidth, de.scrollWidth, de.offsetWidth, de.clientWidth)\n              : el.offsetWidth\n          , height = de\n              ? Math.max(el.body.scrollHeight, el.body.offsetHeight, de.scrollHeight, de.offsetHeight, de.clientHeight)\n              : el.offsetHeight\n\n        orig && this.first().css(orig)\n        return {\n            height: height\n          , width: width\n        }\n      }\n\n      // attributes are hard. go shopping\n\n      /**\n       * @param {string} k an attribute to get or set\n       * @param {string=} opt_v the value to set\n       * @return {Bonzo|string}\n       */\n    , attr: function (k, opt_v) {\n        var el = this[0]\n          , n\n\n        if (typeof k != 'string' && !(k instanceof String)) {\n          for (n in k) {\n            k.hasOwnProperty(n) && this.attr(n, k[n])\n          }\n          return this\n        }\n\n        return typeof opt_v == 'undefined' ?\n          !el ? null : specialAttributes.test(k) ?\n            stateAttributes.test(k) && typeof el[k] == 'string' ?\n              true : el[k] :  el[getAttribute](k) :\n          this.each(function (el) {\n            specialAttributes.test(k) ? (el[k] = setter(el, opt_v)) : el[setAttribute](k, setter(el, opt_v))\n          })\n      }\n\n\n      /**\n       * @param {string} k\n       * @return {Bonzo}\n       */\n    , removeAttr: function (k) {\n        return this.each(function (el) {\n          stateAttributes.test(k) ? (el[k] = false) : el.removeAttribute(k)\n        })\n      }\n\n\n      /**\n       * @param {string=} opt_s\n       * @return {Bonzo|string}\n       */\n    , val: function (s) {\n        return (typeof s == 'string' || typeof s == 'number') ?\n          this.attr('value', s) :\n          this.length ? this[0].value : null\n      }\n\n      // use with care and knowledge. this data() method uses data attributes on the DOM nodes\n      // to do this differently costs a lot more code. c'est la vie\n      /**\n       * @param {string|Object=} opt_k the key for which to get or set data\n       * @param {Object=} opt_v\n       * @return {Bonzo|Object}\n       */\n    , data: function (opt_k, opt_v) {\n        var el = this[0], o, m\n        if (typeof opt_v === 'undefined') {\n          if (!el) return null\n          o = data(el)\n          if (typeof opt_k === 'undefined') {\n            each(el.attributes, function (a) {\n              (m = ('' + a.name).match(dattr)) && (o[camelize(m[1])] = dataValue(a.value))\n            })\n            return o\n          } else {\n            if (typeof o[opt_k] === 'undefined')\n              o[opt_k] = dataValue(this.attr('data-' + decamelize(opt_k)))\n            return o[opt_k]\n          }\n        } else {\n          return this.each(function (el) { data(el)[opt_k] = opt_v })\n        }\n      }\n\n      // DOM detachment & related\n\n      /**\n       * @return {Bonzo}\n       */\n    , remove: function () {\n        this.deepEach(clearData)\n        return this.detach()\n      }\n\n\n      /**\n       * @return {Bonzo}\n       */\n    , empty: function () {\n        return this.each(function (el) {\n          deepEach(el.childNodes, clearData)\n\n          while (el.firstChild) {\n            el.removeChild(el.firstChild)\n          }\n        })\n      }\n\n\n      /**\n       * @return {Bonzo}\n       */\n    , detach: function () {\n        return this.each(function (el) {\n          el[parentNode] && el[parentNode].removeChild(el)\n        })\n      }\n\n      // who uses a mouse anyway? oh right.\n\n      /**\n       * @param {number} y\n       */\n    , scrollTop: function (y) {\n        return scroll.call(this, null, y, 'y')\n      }\n\n\n      /**\n       * @param {number} x\n       */\n    , scrollLeft: function (x) {\n        return scroll.call(this, x, null, 'x')\n      }\n\n  }\n\n\n  function cloneNode(host, el) {\n    var c = el.cloneNode(true)\n      , cloneElems\n      , elElems\n      , i\n\n    // check for existence of an event cloner\n    // preferably https://github.com/fat/bean\n    // otherwise Bonzo won't do this for you\n    if (host.$ && typeof host.cloneEvents == 'function') {\n      host.$(c).cloneEvents(el)\n\n      // clone events from every child node\n      cloneElems = host.$(c).find('*')\n      elElems = host.$(el).find('*')\n\n      for (i = 0; i < elElems.length; i++)\n        host.$(cloneElems[i]).cloneEvents(elElems[i])\n    }\n    return c\n  }\n\n  function isBody(element) {\n    return element === win || (/^(?:body|html)$/i).test(element.tagName)\n  }\n\n  function getWindowScroll() {\n    return { x: win.pageXOffset || html.scrollLeft, y: win.pageYOffset || html.scrollTop }\n  }\n\n  function createScriptFromHtml(html) {\n    var scriptEl = document.createElement('script')\n      , matches = html.match(simpleScriptTagRe)\n    scriptEl.src = matches[1]\n    return scriptEl\n  }\n\n  /**\n   * @param {Array.<Element>|Element|Node|string} els\n   * @return {Bonzo}\n   */\n  function bonzo(els) {\n    return new Bonzo(els)\n  }\n\n  bonzo.setQueryEngine = function (q) {\n    query = q;\n    delete bonzo.setQueryEngine\n  }\n\n  bonzo.aug = function (o, target) {\n    // for those standalone bonzo users. this love is for you.\n    for (var k in o) {\n      o.hasOwnProperty(k) && ((target || Bonzo.prototype)[k] = o[k])\n    }\n  }\n\n  bonzo.create = function (node) {\n    // hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\n    return typeof node == 'string' && node !== '' ?\n      function () {\n        if (simpleScriptTagRe.test(node)) return [createScriptFromHtml(node)]\n        var tag = node.match(/^\\s*<([^\\s>]+)/)\n          , el = doc.createElement('div')\n          , els = []\n          , p = tag ? tagMap[tag[1].toLowerCase()] : null\n          , dep = p ? p[2] + 1 : 1\n          , ns = p && p[3]\n          , pn = parentNode\n\n        el.innerHTML = p ? (p[0] + node + p[1]) : node\n        while (dep--) el = el.firstChild\n        // for IE NoScope, we may insert cruft at the begining just to get it to work\n        if (ns && el && el.nodeType !== 1) el = el.nextSibling\n        do {\n          if (!tag || el.nodeType == 1) {\n            els.push(el)\n          }\n        } while (el = el.nextSibling)\n        // IE < 9 gives us a parentNode which messes up insert() check for cloning\n        // `dep` > 1 can also cause problems with the insert() check (must do this last)\n        each(els, function(el) { el[pn] && el[pn].removeChild(el) })\n        return els\n      }() : isNode(node) ? [node.cloneNode(true)] : []\n  }\n\n  bonzo.doc = function () {\n    var vp = bonzo.viewport()\n    return {\n        width: Math.max(doc.body.scrollWidth, html.scrollWidth, vp.width)\n      , height: Math.max(doc.body.scrollHeight, html.scrollHeight, vp.height)\n    }\n  }\n\n  bonzo.firstChild = function (el) {\n    for (var c = el.childNodes, i = 0, j = (c && c.length) || 0, e; i < j; i++) {\n      if (c[i].nodeType === 1) e = c[j = i]\n    }\n    return e\n  }\n\n  bonzo.viewport = function () {\n    return {\n        width: win.innerWidth\n      , height: win.innerHeight\n    }\n  }\n\n  bonzo.isAncestor = 'compareDocumentPosition' in html ?\n    function (container, element) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (container, element) {\n      return container !== element && container.contains(element);\n    }\n\n  return bonzo\n}); // the only line we care about using a semi-colon. placed here for concatenation tools\n;\n","/*!\n  * @preserve Qwery - A selector engine\n  * https://github.com/ded/qwery\n  * (c) Dustin Diaz 2014 | License MIT\n  */\n\n(function (name, context, definition) {\n  if (typeof module != 'undefined' && module.exports) module.exports = definition()\n  else if (typeof define == 'function' && define.amd) define('qwery',definition)\n  else context[name] = definition()\n})('qwery', this, function () {\n\n  var classOnly = /^\\.([\\w\\-]+)$/\n    , doc = document\n    , win = window\n    , html = doc.documentElement\n    , nodeType = 'nodeType'\n  var isAncestor = 'compareDocumentPosition' in html ?\n    function (element, container) {\n      return (container.compareDocumentPosition(element) & 16) == 16\n    } :\n    function (element, container) {\n      container = container == doc || container == window ? html : container\n      return container !== element && container.contains(element)\n    }\n\n  function toArray(ar) {\n    return [].slice.call(ar, 0)\n  }\n\n  function isNode(el) {\n    var t\n    return el && typeof el === 'object' && (t = el.nodeType) && (t == 1 || t == 9)\n  }\n\n  function arrayLike(o) {\n    return (typeof o === 'object' && isFinite(o.length))\n  }\n\n  function flatten(ar) {\n    for (var r = [], i = 0, l = ar.length; i < l; ++i) arrayLike(ar[i]) ? (r = r.concat(ar[i])) : (r[r.length] = ar[i])\n    return r\n  }\n\n  function uniq(ar) {\n    var a = [], i, j\n    label:\n    for (i = 0; i < ar.length; i++) {\n      for (j = 0; j < a.length; j++) {\n        if (a[j] == ar[i]) {\n          continue label\n        }\n      }\n      a[a.length] = ar[i]\n    }\n    return a\n  }\n\n\n  function normalizeRoot(root) {\n    if (!root) return doc\n    if (typeof root == 'string') return qwery(root)[0]\n    if (!root[nodeType] && arrayLike(root)) return root[0]\n    return root\n  }\n\n  /**\n   * @param {string|Array.<Element>|Element|Node} selector\n   * @param {string|Array.<Element>|Element|Node=} opt_root\n   * @return {Array.<Element>}\n   */\n  function qwery(selector, opt_root) {\n    var m, root = normalizeRoot(opt_root)\n    if (!root || !selector) return []\n    if (selector === win || isNode(selector)) {\n      return !opt_root || (selector !== win && isNode(root) && isAncestor(selector, root)) ? [selector] : []\n    }\n    if (selector && arrayLike(selector)) return flatten(selector)\n\n\n    if (doc.getElementsByClassName && selector == 'string' && (m = selector.match(classOnly))) {\n      return toArray((root).getElementsByClassName(m[1]))\n    }\n    // using duck typing for 'a' window or 'a' document (not 'the' window || document)\n    if (selector && (selector.document || (selector.nodeType && selector.nodeType == 9))) {\n      return !opt_root ? [selector] : []\n    }\n    return toArray((root).querySelectorAll(selector))\n  }\n\n  qwery.uniq = uniq\n\n  return qwery\n}, this);\n\n","/*global define */\ndefine('modules/$',[\n    'bonzo',\n    'qwery'\n], function (\n    bonzo,\n    qwery\n) {\n    'use strict';\n\n    function $(selector, context) {\n        return bonzo(qwery(selector, context));\n    }\n\n    return $;\n\n});\n","/*global window,document,console,define */\ndefine('modules/ads',[\n    'modules/$',\n    'bonzo'\n], function (\n    $,\n    bonzo\n) {\n    'use strict';\n\n    var tabletMpuId = 'advert-mpu-content',\n        mobileMpuId = 'advert-mobile-mpu-content',\n        bannerHtmlId = 'advert-banner-content',\n\n        modules = {\n            insertAdPlaceholders: function (config) {\n                var windowWidth = window.innerWidth;\n\n                var counter = 0;\n\n                $(\".article__body > div > *:nth-child(-n+3)\").each(function() {\n\n                    var tagName = $(this)[0].tagName;\n\n                    if (tagName == \"P\" || tagName == \"H2\" || tagName == \"BLOCKQUOTE\") {\n                        counter++;\n                    } else if (tagName == \"FIGURE\" && $(this).hasClass(\"element-placeholder\") ||\n                        $(this).hasClass(\"element-video\")) {\n                        counter++;\n                    }\n\n                });\n\n                if (config.adsConfig == \"tablet\" && counter == 3) {\n                    var tabletMpuHtml = \"<div class='advert-slot advert-slot--mpu advert-slot--mpu--tablet'>\" +\n                                            \"<div class='advert-slot__label'>\" +\n                                                \"Advertisement\" +\n                                                \"<a class='advert-slot__action' href='x-gu://subscribe'>\" +\n                                                    \"Hide\" +\n                                                    \"<span data-icon='&#xe04F;'></span>\" +\n                                                \"</a>\" +\n                                            \"</div>\"  +\n                                            \"<div class=\\\"advert-slot__wrapper\\\" id=\\\"advert-slot__wrapper\\\">\" +\n                                            \"<div class='advert-slot__wrapper__content' id=\" + tabletMpuId + \"></div>\" +\n                                            \"</div>\" +\n                                        \"</div>\";\n\n                    $(\".article__body > div > p:nth-of-type(1)\").before(tabletMpuHtml);\n\n\n                } else if (config.adsConfig == \"mobile\") {\n                    \n                    var mobileMpuHtml = \"<div class='advert-slot advert-slot--mpu advert-slot--mpu--mobile'>\" +\n                                            \"<div class='advert-slot__label'>\" +\n                                                \"Advertisement\" +\n                                                \"<a class='advert-slot__action' href='x-gu://subscribe'>\" +\n                                                    \"Hide\" +\n                                                    \"<span data-icon='&#xe04F;'></span>\" +\n                                                \"</a>\" +\n                                            \"</div>\"  +\n                                            \"<div class=\\\"advert-slot__wrapper\\\" id=\\\"advert-slot__wrapper\\\">\" +\n                                            \"<div class='advert-slot__wrapper__content' id=\" + mobileMpuId + \"></div>\" +\n                                            \"</div>\" +\n                                        \"</div>\",\n\n                        bannerHtml =  \"<div class='advert-slot__wrapper__content' id=\" + bannerHtmlId + \"></div>\";\n\n\n                    var nrParagraph = ( parseInt(config.mpuAfterParagraphs, 10) || 6 ) - 1;\n                    $(\".article__body > div > p:nth-of-type(\" + nrParagraph + \") ~ p + p\").first().before(mobileMpuHtml);\n                    $(\".advert-slot__wrapper\").prepend(bannerHtml);\n\n                }\n            },\n\n            // return the current top Banner's position.\n            // This function is an internal function which accepts a function\n            // formatter(left, top, width, height)\n\n            getBannerPos : function(formatter) {\n                var r;\n                var el = document.getElementById(\"banner_container\");\n                if (el) {\n                    r = el.getBoundingClientRect();\n                    return formatter(r.left + document.body.scrollLeft, r.top+document.body.scrollTop,\n                        r.width, r.height);\n                } else {\n                    return null;\n                }\n            },\n\n            // return the current MPU's position.\n            // This function is an internal function which accepts a function\n            // formatter(left, top, width, height)\n\n            getMpuPos : function(formatter) {\n                var r;\n                var el = document.getElementById(\"advert-slot__wrapper\");\n                if (el) {\n                    r = el.getBoundingClientRect();\n                    if(r.width !== 0 && r.height !== 0){\n                        return formatter(r.left + document.body.scrollLeft,\n                            r.top+document.body.scrollTop, r.width, r.height);\n                    }\n                } else {\n                    return null;\n                }\n            },\n\n            getMpuPosJson : function() {\n                return modules.getMpuPos(function(x, y, w, h) {\n                    return '{\"left\":' + x + ', \"top\":' + y + ', \"width\":' + w +', \"height\":' + h + '}';\n                });\n            },\n            getMpuPosCommaSeparated : function() {\n                return modules.getMpuPos(function(x, y, w, h) {\n                    return x + ',' + y;\n                });\n            },\n            getMpuOffsetTop : function() {\n                return modules.getMpuPos(function(x, y, w, h) {\n                    return y;\n                });\n            },\n            getBannerPosCallback : function() {\n                modules.getBannerPos(function(x, y, w, h){\n                    window.GuardianJSInterface.bannerAdsPosition(x, y, w, h);\n                });\n            },\n            poller : function(interval, yPos, firstRun) {\n                var newYPos = modules.getMpuOffsetTop();\n\n                if(firstRun && this.isAndroid){\n                    modules.updateAndroidPosition();\n                }\n\n                if(newYPos !== yPos){\n                    if(this.isAndroid){\n                        modules.updateAndroidPosition();\n                    } else {\n                        window.location.href = 'x-gu://ad_moved';\n                    }\n                }\n\n                setTimeout(modules.poller.bind(modules, interval + 50, newYPos), interval);\n            },\n\n            updateAndroidPosition : function() {\n                modules.getMpuPos(function(x, y, w, h){\n                    window.GuardianJSInterface.mpuAdsPosition(x, y, w, h);\n                });\n            },\n\n            initMpuPoller: function(){\n                modules.poller(1000,\n                    modules.getMpuOffsetTop(),\n                    true\n                );\n            },\n\n            fireAdsReady: function(_window){\n                if (!$('body').hasClass('no-ready') && $('body').attr('data-use-ads-ready') === 'true') {\n                    _window.location.href = 'x-gu://ads-ready';\n                }                  \n            }\n        },\n\n        ready = function (config) {\n            modules.isAndroid = $('body').hasClass('android');\n\n            if (!this.initialised) {\n                this.initialised = true;\n\n                if (config.adsEnabled == \"true\" || (config.adsEnabled !== null && config.adsEnabled.match && config.adsEnabled.match(/mpu/))) {\n                    modules.insertAdPlaceholders(config);\n                    window.getMpuPosJson = modules.getMpuPosJson;\n                    window.getBannerPosCallback = modules.getBannerPosCallback;\n                    window.getMpuPosCommaSeparated = modules.getMpuPosCommaSeparated;\n                    window.initMpuPoller = modules.initMpuPoller;\n                    window.applyNativeFunctionCall('initMpuPoller');\n                    window.applyNativeFunctionCall('getBannerPosCallback');\n\n                    if(!modules.isAndroid){\n                        modules.initMpuPoller();\n                    }\n                }\n                \n                modules.fireAdsReady(window);                \n            }\n        };\n\n    return {\n        init: ready,\n        // for testing purposes\n        modules: modules\n    };\n\n});\n\n"]}